
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Alexander Beletsky's development blog</title>
  <meta name="author" content="Alexander Beletsky">

  
  <meta name="description" content="CS101 Building a Search Engine: Week 3 May 7th, 2012 CS101, SearchEngine, Udacity Disclaimer: this blog post expresses some impressions and details &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://beletsky.net/blog/page/8/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/fontello.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/pure-min.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/style.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Alexander Beletsky's development blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:800' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Roboto:300' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-16388698-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>


<body>
	<header class="pure-g-r"><div class="pure-g-r">
	<div class="inner pure-u-1">
		<h4 class="light">Alexander Beletsky's development blog</h4>
		<h1><a href="/">My profession is engineering</a></h1>
		<nav role="navigation" class="pure-menu pure-menu-open pure-menu-horizontal light"><ul>
	<li><a href="/projects">Projects</a></li>
	<li><a href="/talks">Talks</a></li>
	<li><a href="/blog/archives">Archive</a></li>
	<li><a href="/about">About me</a></li>
</ul>

</nav>
	</div>
</div>

</header>
	<div class="social inner pure-menu-horizontal"><ul>
	<li><a class="twitter icon-twitter" href="http://twitter.com/alexbeletsky"></a></li>
	<li><a class="github icon-github-circled" href="https://github.com/alexanderbeletsky"></a></li>
	<li><a class="stackoverflow icon-stackoverflow" href="http://stackoverflow.com/users/386751/alexanderb"></a></li>
	<li><a class="rss icon-rss" href="http://feeds.feedburner.com/abeletskyblog"></a></li>
</ul>
</div>
	<div id="content" class="inner pure-g-r"><div class="blog-index">
  
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/05/cs101-building-search-engine-week-3.html">
    
      CS101 Building a Search Engine: Week 3</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-05-07T12:58:00+03:00" pubdate data-updated="true">May 7<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/cs101/'>CS101</a>, <a class='category' href='/blog/categories/searchengine/'>SearchEngine</a>, <a class='category' href='/blog/categories/udacity/'>Udacity</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p><small><strong>Disclaimer:</strong> this blog post expresses some impressions and details of Udacity CS101 &#8220;Building a Search Engine&#8221; online course. If you are either currently participating it or plan to do so in nearest future, this blog post could be a spoiler. Even though, I&#8217;m trying to make it generic as possible and do not spoil important things.<br />
</small><br />
</p><p>Yesterday, I&#8217;ve concluded Unit 3 of <a href="http://www.udacity.com/">CS101 Building Search Engine</a> class. I had a little lag, since I&#8217;ve been to little vacation at the beginning of previous week, so got a chance to get back to class only Thursday. So, I still have one homework task in my to-do list.<br />
</p><p>It&#8217;s been an interesting unit, through it&#8217;s still very basic one. I&#8217;m little more confident with Python, getting powered by knowledge of collections, indexes etc. Again, I&#8217;m really pleased with language simplicity. Just few code snippets I like,<br />
</p><pre class="brush: python"># creates generic list
        some_list = []
        
        # add something inside
        some_list.append(1)
        some_list.append('z')
        some_list.append([3,2,1])
        
        # iterate by for loop
        for e in some_list:
            pass
            
        # or with while
        while some_list:
            e = some_list.pop()
        
        # get index of element
        index = some_list.index(1)
    </pre><p>I also started to familiarize with functional style of Python programming. You can find some good inputs <a href="http://docs.python.org/howto/functional.html">here</a>. Everything look very interesting so far.<br />
</p><p>This week we moved further with &#8220;real&#8221; implementation of web crawler. Instead of going by the set of quizzes I went my own path and created my implementation of simple crawler. So, what it does currently is go from &#8216;seed&#8217; page and collect all links it&#8217;s able to find on target pages and related pages. I went a little far, since I made it run on real web requests, instead of test data that current unit supposes. If you are interested code could be found <a href="https://gist.github.com/2626946">here</a>.<br />
</p><p>Still I pretend as CS101 student trying to apply only knowledge I got through latest weeks. It&#8217;s great exercise I believe, showing some gaps in my education or concept understanding.  <br />
</p><p>Homework was interesting as well. <a href="http://www.crunchbase.com/person/anna-patterson">Anna Patterson</a> was a starring guest for homework session. Together with Anna we tried to improve crawler with some real life requirements, like max_pages and max_depth parameter to prevent crawler to stay in indefinite loop. Anna is great expert in this field, so for each homework task I highly recommend to check the answer, a lot of interesting details there.<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/04/cs101-building-search-engine-week-2.html">
    
      CS101 Building a Search Engine: Week 2</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-04-28T11:31:00+03:00" pubdate data-updated="true">Apr 28<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/cs101/'>CS101</a>, <a class='category' href='/blog/categories/searchengine/'>SearchEngine</a>, <a class='category' href='/blog/categories/udacity/'>Udacity</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p><small><strong>Disclaimer:</strong> this blog post expresses some impressions and details of Udacity CS101 &#8220;Building a Search Engine&#8221; online course. If you are either currently participating it or plan to do so in nearest future, this blog post could be a spoiler. Even though, I&#8217;m trying to make it generic as possible and do not spoil important things.<br />
</small><br />
</p><p>This week I&#8217;ve concluded Unit 2 of <a href="http://www.udacity.com/">CS101 Building Search Engine</a> class. As a previous one it was very basic. We did went thought programming fundamentals on <code>if</code> statements, <code>while</code> loops, conditions and boolean operations. In contrast to Unit 1, I haven&#8217;t got any really new information for me. All the information given very nicely, preparing listener to do some more serious stuff. <br />
</p><p>I think I started to get used to Python a little bit. Unfortunately I do not practice it much now, so I have to find simple project that I could accomplish in Python, besides the search engine. As always doing code katas is very nice for introduction to any new language, so I can do that. <br />
</p><p>Homework was simple enough, but again as last time I got one problem that made me think some extra time. This is &#8220;median search&#8221; issue. Say, you are given 3 numbers - (1,2,3). Median is the one between bigger and smaller number, in this case it&#8217;s &#8220;2&#8221;. In (9,3,6) it&#8217;s &#8220;6&#8221; and in (7,8,7) it&#8217;s &#8220;7&#8221;. As a previous time I started with something I don&#8217;t suppose to know, like lists and sorting. Solving this problem just with knowledge I got so far more problematic. So, I spent some time on that.. and was really happy than I found simple and nice solution for that. You should try to solve that, pretending you know only procedures and conditional operations.  <br />
</p><p>Now, I&#8217;m looking forward for Unit 3. It&#8217;s still basic, but there we suppose to create some simple crawler. I hope it will be fun!<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/04/json-model-binding-to-idictionary-is.html">
    
      JSON Model Binding to IDictionary<> is Broken</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-04-26T09:39:00+03:00" pubdate data-updated="true">Apr 26<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/mvc/'>MVC</a>, <a class='category' href='/blog/categories/asp-dot-net/'>asp.net</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>Yesterday, I&#8217;ve been creating small web service based on existing ASP.NET MVC infrastructure. The task was really simple. Web service itself should be just a proxy for existing internal API. The API method takes a <code>Dictionary</code> that contains some fields. So, I&#8217;ve created a data model like that.<br />
</p><pre class="brush: csharp">public class Notification
{
 public int Id { get; set; }
 public string Recipient { get; set; }
 public IDictionary&lt;string, string&gt; Fields { get; set; }
}
    </pre><p>and simple HttpPost handler, like<br />
</p><pre class="brush: csharp">[HttpPost]
public ActionResult Send(string token, Notification notification)
{
    // ...
}
    </pre><p>the payload posted to method is:<br />
</p><pre class="brush: plain">{"id":32,"recipient":"a@a.com","fields": { "EMAIL": "a@a.com"} }

    </pre><p>I&#8217;ve tried to test the method, but the <code>Fields</code> property of model was always <code>null</code>. First I thought I got a problem somewhere in JSON payload, but after sometime I saw that everything is correct. <br />
</p><p>Google showed I&#8217;m not alone, so the issue been <a href="http://stackoverflow.com/questions/4710729/post-json-dictionary">raised</a> on SO. Darin Dimitrov responded that this is a bug of <code>JsonValueProviderFactory</code>. In the same time, some comments below contained the link for a bug <a href="http://connect.microsoft.com/VisualStudio/feedback/details/636647/make-jsonvalueproviderfactory-work-with-dictionary-types-in-asp-net-mvc">reported</a>, that was already stated as Fixed. <br />
</p><p>I forgot to mention that I did that stuff on ASP.NET MVC 2. I decided to try that on ASP.NET MVC 3, since I got the sources and if it works I can try to backport the fix into our MVC 2 infrastructure. <br />
</p><p>With my great disappointment it fails in exactly same way for ASP.NET MVC 3. That&#8217;s not funny anymore. I blamed <code>JavaScriptSerializer</code>, JSON serializer that used inside the <code>JsonValueProviderFactory</code> that it simply not able to handle Dictionaries right. I knew that ASP.NET Web API is using Newtonsoft JSON.NET framework, which is really powerful for serialization/deserialization of JSON.<br />
</p><p>So, I run VS 2011 and create test <code>ApiController</code> that receives the model with <code>IDictionary</code> inside. What do you think happen? Ok, the model is no longer <code>null</code>, but it contains Dictionary with count of elements equals to zero. Fail.<br />
</p><pre class="brush: csharp">public void Post(Notification notification)
{
    // ...
}
    </pre><p>I re-raised <a href="http://aspnetwebstack.codeplex.com/workitem/99">issue</a> again, now on ASP.NET Web Stack site on <a href="http://aspnetwebstack.codeplex.com/">Codeplex</a>. I also tried to quickly write the unit test that show the existence of problem, but it&#8217;s not that easy to do that, so it requires some time. Hope I can do that later.<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/04/cs101-building-search-engine-week-1.html">
    
      CS101 Building a Search Engine: Week 1</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-04-21T20:54:00+03:00" pubdate data-updated="true">Apr 21<span>st</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/cs101/'>CS101</a>, <a class='category' href='/blog/categories/searchengine/'>SearchEngine</a>, <a class='category' href='/blog/categories/stanford/'>Stanford</a>, <a class='category' href='/blog/categories/udacity/'>Udacity</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p><small><strong>Disclaimer:</strong> this blog post expresses some impressions and details of Udacity CS101 &#8220;Building a Search Engine&#8221; online course. If you are either currently participating it or plan to do so in nearest future, this blog post could be a spoiler. Even though, I&#8217;m trying to make it generic as possible and do not spoil important things.<br />
</small><br />
</p><p>CS101 is fundamental course that supposes you have no background in programming at all. That&#8217;s why all lectures was very-very basic and sometimes I felt really bored. If you fell the same, that&#8217;s probably ok, since the most interesting stuff is about to start from Unit 3. <br />
</p><p>In the same time, for guys who has no programming skill&#8217;s that might be even a little tough. To be honest, I had really tough moment during my first homework, that should not be a problem for professional programmer, but I&#8217;ll describe it later. <br />
</p><h2>Unit 1: Basics, Python, Numbers and Strings</h2><p>What I understood from my entire career is that: backing to basics is always great. The years of enterprise development makes you strong in technologies and frameworks, but I managed to lost almost everything I got during my university days. Restoring that knowledge is very good brain exercise, constant repetition of basic is the way to mastery.    <br />
</p><p>So, even that simple unit gave me a lot of things to remember, plus I learned some elementary of Python language.<br />
</p><h2>Backus Naur Form</h2><p>What was really interesting to me during Unit 1 is so called <a href="http://en.wikipedia.org/wiki/Backus%E2%80%93Naur_Form">Backus-Naur Form</a>, for describing the computer language grammar. This is a method of formalizing any (probably) computer language syntaxes. It has been invented by <a href="http://en.wikipedia.org/wiki/John_W._Backus">John Backus</a> American scientist, how is famous as creator of FORTRAN and ALGOL computer languages, as well as his researches in <a href="http://en.wikipedia.org/wiki/Function-level_programming">functional programming</a>. <br />
</p><p>Backus-Naur form is really simple and really powerful. It is described by the set of <code>non-terminals</code> and <code>terminals</code>. Each language expression is derived from BN form. Let&#8217;s take and example,<br />
</p><pre class="brush: plain">&lt;sentence&gt; ::= &lt;subject&gt; &lt;verb&gt; &lt;object&gt;
        &lt;subject&gt; ::= &lt;noun&gt;
        &lt;object&gt; ::= &lt;noun&gt;
    </pre><p>Here is the primitive BNF for English language. Each sentence in English should contain Subject, Verb, Object to be complete and have a meaning. Of course, BNF is not suppose to describe natural languages as English or Russian, since it much more complex.. but it works very fine with computer languages, which are strict. So, everything in brackets are so called <code>non-terminals</code>, it simply means that expression could not be terminated (completed) based on them. To complete we need <code>terminals</code>. Each <code>non-terminal</code> is replaced by <code>terminal</code> till it&#8217;s done.<br />
</p><pre class="brush: plain">&lt;sentence&gt; ::= &lt;subject&gt; &lt;verb&gt; &lt;object&gt;
        &lt;subject&gt; ::= &lt;noun&gt;
        &lt;object&gt; ::= &lt;noun&gt;
        noun ::= I
        noun ::= Python
        noun ::= Cookies
        verb ::= Eat
        verb ::= Like
    </pre><p>Now, the form is completed, so we can try to derive expression out of it. Let&#8217;s try that. So, we start from the top line<br />
</p><pre class="brush: plain">&lt;sentence&gt; ::= &lt;subject&gt; &lt;verb&gt; &lt;object&gt;
    </pre><p>Derive all non-terminals from expression<br />
</p><pre class="brush: plain">&lt;sentence&gt; ::= &lt;noun&gt; &lt;verb&gt; &lt;noun&gt;    
    </pre><p>First &#8220;noun&#8221; is still non-terminal, so we proceed. Due to form, noun could be any of three (I, Python, Cookies) - so I can pick up any.<br />
</p><pre class="brush: plain">&lt;sentence&gt; ::= I &lt;verb&gt; &lt;noun&gt;    
    </pre><p>&#8220;I&#8221; is the terminal, so we process next non terminal which is verb. Verb could be any of (Eat, Like). I&#8217;ll take &#8220;Like&#8221;.<br />
</p><pre class="brush: plain">&lt;sentence&gt; ::= I Like &lt;noun&gt;    
    </pre><p>The last non-terminal is noun again. The same three options (I, Python, Cookies). Let&#8217;s pick &#8220;Python&#8221;.<br />
</p><pre class="brush: plain">&lt;sentence&gt; ::= I Like Python    
    </pre><p>All non-terminals are replaced with terminals, that means we derieved the expression completely. Based on that simple algorithm I can derive other expressions that would be valid for that form.<br />
</p><pre class="brush: plain">&lt;sentence&gt; ::= I Like Cookies    
        &lt;sentence&gt; ::= I Like I    
        &lt;sentence&gt; ::= I Eat Python    
        &lt;sentence&gt; ::= Python Like Cookies
        &lt;sentence&gt; ::= Python Eat I
    </pre><p>As you can see, some of them are completely non-sense, but still they are totally valid expressions. If you are curious, you can find BNF&#8217;s for many know languages <a href="http://goldparser.org/grammars/index.htm">here</a>. <br />
</p><h2>Starting up Python</h2><p>Start with Python programming language was one of my goals, dusted for quite long time on goals shelf. Hope that CS101 and further courses would be motivating enough to finally learn it. So, if you are like me - .NET, no Python background - don&#8217;t worry, that&#8217;s easy enough. Basically, all you need is Python interpreter and some text editor.  <br />
</p><p>I really like <a href="http://chocolatey.org/">Chocolatey</a> for installing that stuff. Chocolatey is like NuGet package manager, but for software. I encourage you to try. So, instead of going to site, looking for latest version etc. I just opened my Power Shell command like and put:<br />
</p><pre class="brush: plain">cinst python
    </pre><p>In 3 minutes, Python was on my machine. <br />
</p><p>The editor, you can pick up any you like. I prefer <a href="http://www.sublimetext.com/2">Sublime Text 2</a>, it&#8217;s really cool. Again, you can install it by Chocolatey.<br />
</p><pre class="brush: plain">cinst sublimetext2
    </pre><p>After that you are almost Python developer. Just need to learn the language.<br />
</p><h2>Strings, Find in strings<br />
</h2><p>The rest of Unit 1, was mostly string operations in Python. And I was surprised how easy Python syntax is. First, you don&#8217;t need to &#8216;mark&#8217; varible declaration anyhow.. No types, no &#8216;var&#8217; just the name and value.<br />
</p><pre class="brush: python">s = "Hello World"
    </pre><p>You can access each char inside the string just with [] operator.<br />
</p><pre class="brush: python">s = "Hello World"
        print s[0]
    </pre><p>It would print &#8220;H&#8221; char into console. It&#8217;s not really cool, what cool is - substrings by index and negative indexes.<br />
</p><pre class="brush: python">print s[0:5] # -> Hello
        print s[:5]  # -> Hello
        print s[6:]  # -> World
        print s[:]   # -> Hello World
        print s[-1]  # -> d
        print s[:-5] # -> Hello     
    </pre><p>The find operation is very similar to what we have in C++ and C#. It, tried to find substring in string if it&#8217;s find, position returned or -1.<br />
</p><pre class="brush: python">print s.find('World') # -> 6
        print s.find('o')  # -> 4
        print s.find('o', 5) # -> 7
    </pre><p>The last thing in the unit was <code>str()</code> method, that able convert any number (integer or float) into string representation.<br />
</p><pre class="brush: python">print str(3.14)  # -> 3.14
        print str(100)  # -> 100
    </pre><p>That&#8217;s it. Based on that knowledge I suppose to complete my homework.<br />
</p><h2>Homework</h2><p>Again, as whole unit - there was really simple problems. The &#8216;real&#8217; tough guy to me was very simple problem - &#8220;Rounding numbers&#8221;. So, you are given with float number and you have to return it&#8217;s integer representation. If numbers fraction is greater than 0.5, it should go ceil otherwise it goes floor. Not big deal I thought to my self and start to write code..<br />
</p><p>I spend around 10 minutes to create code like that:<br />
</p><pre class="brush: python">number_as_string = str(x)
        dot_position = number_as_string.find('.')
        if dot_position != -1:
         integer_part = int(number_as_string[0:dot_position])
         decimal_part = int(number_as_string[dot_position + 1:])
         decimal_length = len(number_as_string[dot_position + 1:]) 
         dividor = pow(10, decimal_length - 1) * 5 

         if decimal_part >= dividor :
          integer_part += 1

         print integer_part
    </pre><p>While writing that I had a bad feeling, that I&#8217;m using something that I&#8217;m not supposed to know, actually. The code worked and I submitted the solution. I received a response, that it actually giving right answer.. but, I was asked to create solution without <code>if</code>, <code>int()</code> or <code>round()</code>.<br />
</p><p>Believe me or not, but I really frustrated on that task. I just didn&#8217;t understood how it&#8217;s possible to do not use any <code>if</code> here, but I have a condition inside the problem. I spend additional 10 minutes, starting to think it&#8217;s just impossible. It&#8217;s really funny, but indeed I thought it&#8217;s something strange and had a great temptation to go and check for correct answer. Fortunately, I got this this online <a href="http://forums.udacity.com/cs101-april2012/questions/345/rounding-without-an-if-statement?page=1&focusedAnswerId=386#386">discussion</a> (each course has it&#8217;s discussion board, where student&#8217;s can share the info). It turns out I&#8217;m not alone, some professional programmers did the look like I did with if&#8217;s and calls to other functions.<br />
</p><p>Finally, I just tried to concentrate and really pretend to be a person how is just listen to that material first time, using the only knowledge I got in Unit 1. And solution came up to my mind! It was sooo easy, so I felt really ashamed for the code I wrote above. It&#8217;s 3 lines of code, using just <code>str()</code> and <code>find()</code> method, so simple.<br />
</p><p>That was definitely facepalm situation. But, it really encourage me to continue!<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/04/i-enrolled-to-udacity-build-search.html">
    
      I Enrolled to Udacity &#8216;Build Search Engine&#8217; Online Course</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-04-17T18:55:00+03:00" pubdate data-updated="true">Apr 17<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/searchengine/'>SearchEngine</a>, <a class='category' href='/blog/categories/stanford/'>Stanford</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>I&#8217;m astonished how many opportunities we have now to learn and self-improve there days. One of the greatest things was announcement of online courses by Stanford. Stanford is the world class university with best professors and highest reputation. Then I first time heard that some of Stanford courses are online with videos, quizzes and materials - I thought to my self, - I would not miss the thing. <br />
</p><p>With a great support of <a href="http://www.coursera.org/">Coursera</a> and <a href="http://www.udacity.com/">Udacity</a> now we have great list of interesting <a href="http://www.class-central.com/">courses</a>, including programming, artificial intelligence, cryptography etc. Lead by well known specialists those courses are just price-less, nevertheless they are available for free.  <br />
</p><p>I have enrolled for new course by <a href="http://www.udacity.com/">Udacity</a> - <a href="http://www.udacity.com/overview/Course/cs101/CourseRev/apr2012">CS101: Building a Search Engine</a> that has been started 16 Apr 2012, by David Evans and Sebastian Thrun. This should be interesting journey inside the web crawling, data mining, ranking etc. What is good for me it would not evolve hardcode-math and also does some good introduction into Python programming language. By the way, CS101 does not assume you know any computer language before or any special math knowledge. So, my assumptions that this course should not take hours of digging into the difference between <code>o(n)</code> and <code>O(n)</code> but rather has more practical aspects. <br />
</p><p>So, why I&#8217;m writing that?.. Millions of people are joining them, a lot of people already got successful records for several courses already. OK, let&#8217;s look in eyes of truth. I enrolled for several ones already (ml-class and saas). But neither I successfully completed. Due to my business (read as laziness) I quickly went out of schedule and it was to difficult to line up again. I don&#8217;t want it happen again.<br />
</p><p>I have some small goals for a next 7 weeks:<br />
</p><ul><li><br />
Start up learning new language<br />
</li>
<li><br />
Lean something new in data mining and data processing<br />
</li>
<li><br />
Improve my self learning discipline<br />
</li>
<li><br />
Encourage myself for next online courses<br />
</li>
</ul><p>I think <a href="http://www.udacity.com/overview/Course/cs101/CourseRev/apr2012">CS101: Building a Search Engine</a> is vey nice candidate, because: <br />
</p><ul><li><br />
As I said it should not include very complex math (that I already manage to forgot)<br />
</li>
<li><br />
It has no strict deadlines for units <br />
</li>
<li><br />
It is interesting enough to do not be bored in a middle (at least I hope so)<br />
</li>
</ul><p>Moreover, I&#8217;ll be doing a weekly blog post (Saturday) about highlighting the things I learned through week. If you are interested, please jump in since that train is still not gone. I&#8217;m sure it will be great experience.<br />
</p><p>Let&#8217;s do that together!<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/04/aspnet-articles-mobile-application.html">
    
      ASP.NET Articles Mobile Application</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-04-12T16:50:00+03:00" pubdate data-updated="true">Apr 12<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/mobile/'>Mobile</a>, <a class='category' href='/blog/categories/asp-dot-net/'>asp.net</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>Do you like <a href="http://asp.net">asp.net</a> web site content? Do you enjoy reading fine selected articles about ASP.NET and related technologies? Me too, but I spent most of the reading from my iPad. And unfortunately <a href="http://asp.net">asp.net</a> is not that mobile friendly yet, moreover articles are just a bunch of links to developers blogs, that might not so be adapted for mobile devices as well. <br />
</p><p>So, I would like to introduce mobile application that I created to close the gap. Please welcome <a href="http://aspnetmobile.apphb.com/">http://aspnetmobile.apphb.com/</a>.<br />
</p><a href="https://lh4.googleusercontent.com/-OG7PCIOHvgg/T4bc0YDkssI/AAAAAAAAIYs/Ml5GW6dmmAg/s720/image-1.png"><br />
    <img src="https://lh4.googleusercontent.com/-OG7PCIOHvgg/T4bc0YDkssI/AAAAAAAAIYs/Ml5GW6dmmAg/s720/image-1.png" style="width: 620px"/><br />
</a><br />
<p><a href="http://aspnetmobile.apphb.com/">aspnet.mobile</a> is rather simple application. Despite of many similar apps that uses RSS channel, it goes for ASP.NET portal simple external API. RSS is bad in the way that you are limited with initial content (typically up to 25 articles on channel). With <a href="http://aspnetmobile.apphb.com/">aspnet.mobile</a> you freely can access any article ever posted on ASP.NET.<br />
</p><p>It&#8217;s powered by <a href="http://jquerymobile.com/">jQuery Mobile</a> that currently provides more &#8220;iOS-look&#8221; interface. I&#8217;m happy with that currently but I plan to have native look for Android and WP7 as well, so I thinking either to change the framework or to create custom one. But it currently looks and works great on iPad.<br />
</p><a href="https://lh6.googleusercontent.com/-ieAlxaf1ltM/T4bc0oHZBaI/AAAAAAAAIYw/qzKfJmSfi2A/s720/image-2.PNG"><br />
    <img src="https://lh6.googleusercontent.com/-ieAlxaf1ltM/T4bc0oHZBaI/AAAAAAAAIYw/qzKfJmSfi2A/s720/image-2.PNG" style="width: 620px"/><br />
</a><br />
<p>I didn&#8217;t want to just refer reader to developers blog, for the reason above. Instead, I much inspired by iOS 5.0 Safari feature called &#8216;Reader&#8217;. A bit of googling and I found that Safari using technology called <a href="http://www.readability.com/">Readability</a>. There are different ports of that technology for a different platforms: Ruby, PHP, Python, Node.js.. and I was happy to find great implementation of <a href="https://github.com/marek-stoj/NReadability">NReadability</a> by <a href="http://about.me/marekstoj">Marek Stoj</a>. Basically, it allowed me to render nice looking pages, like:<br />
</p><a href="https://lh6.googleusercontent.com/-D5ZD6S532PE/T4bc0XPGX1I/AAAAAAAAIYo/oVBo505PNXI/s720/image-3.PNG"><br />
    <img src="https://lh6.googleusercontent.com/-D5ZD6S532PE/T4bc0XPGX1I/AAAAAAAAIYo/oVBo505PNXI/s720/image-3.PNG" style="width: 620px"/><br />
</a><br />
<p>Besides of that it has a basic support of offline mode. All read articles are stored in Local Storage, so once the application offine it will provide proper behavior and propose some content.<br />
</p><p>I will be happy if you try and let me know your impression. Feel free to check sources at <a href="https://github.com/alexanderbeletsky/aspnet.mobile">github</a>.<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/04/new-in-aspnet-mvc4-razor-changes.html">
    
      New in ASP.NET MVC4: Razor changes</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-04-10T21:35:00+03:00" pubdate data-updated="true">Apr 10<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/mvc/'>MVC</a>, <a class='category' href='/blog/categories/asp-dot-net/'>asp.net</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>Razor has been changed a little with ASP.NET MVC 4 beta. It&#8217;s not a kind of radical changes, but rather improvements that make developers happier. As for me, developers happier then you need to write less code to get the same function. It reminded me a ideal device, which is part of <a href="http://www.mindtools.com/pages/article/newCT_92.htm">TRIZ</a> theory. Ideal device is a device that does not exit, but does it function. By analogy, ideal code is the code that not exist but it&#8217;s function exist. Razor is not that ideal, through.. But it&#8217;s &#8220;more ideal&#8221; than previous version. <br />
</p><h2>No more @Url.Content</h2><p>I got used to @Url.Content and used that for all CSS and JS references. Since it&#8217;s to commonly used, developers decided to include it on a level of engine. Now, instead of<br />
</p><pre class="brush: html">&lt;script src=&quot;@Url.Content(&quot;~/Scripts/Controls.js&quot;)&quot;&gt;&lt;/script&gt;
</pre><p>You simply can write,<br />
</p><pre class="brush: html">&lt;script src=&quot;~/Scripts/Controls.js&quot;&gt;&lt;/script&gt;
</pre><p>If Razor detects ~/ it would created an output identical to @Url.Content. Just got rid of several bytes within view files.<br />
</p><h2>Conditions</h2><p>Conditions in attributes were pretty noisy. Have you ever create something like this?<br />
</p><pre class="brush: html">&lt;div @{if (myClass != null) { &lt;text&gt;class=&quot;@myClass&quot;&lt;/text&gt; } }&gt;Content&lt;/div&gt;
</pre><p>I had and I did not like it much. I usually ended up with creation of some simple HTML helper instead. With new Razor it a little simpler, not you can write<br />
</p><pre class="brush: html">&lt;div class=&quot;@myClass&quot;&gt;Content&lt;/div&gt;
</pre><p>If @myClass is null, it won&#8217;t output class attribute at all. Very handy.<br />
</p><h2>And a little more</h2><p>This is an update section I created after this post has been <a href="https://twitter.com/#!/scottgu/status/190133254060388352">twitted</a> by <a href="https://twitter.com/#!/scottgu">Scott Guthrie</a> and some valuable comments has been received.<br />
</p><p><a href="https://twitter.com/#!/bradwilson">Brad Wilson</a> stated, conditions does not only support nullable types, but also booleans. Say, I have code:<br />
</p><pre class="brush: html">&lt;input checked=&quot;@ViewBag.Checked&quot; type=&quot;checkbox&quot;/&gt;
</pre><p>If the @ViewBag.Checked in null or false, it will be rendered as:<br />
</p><pre class="brush: html">&lt;input type=&quot;checkbox&quot;/&gt;
</pre><p>Else if @ViewBag.Checked is true, it will be rendered as:<br />
</p><pre class="brush: html">&lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot;/&gt;
</pre><p><a href="https://twitter.com/#!/HumanCompiler">Erik Porter</a> also mentioned the custom support for <code>data-*</code> attributes. Data attributes are little special, so even if you missing particular value you still want to have those as empty <code>data-role = ""</code>. So, if you have code like:<br />
</p><pre class="brush: html">&lt;ul data-role=&quot;@ViewBag.ListRole&quot;&gt;
&lt;/ul&gt;
</pre><p>and @ViewBag.ListRole is null or false, data attribute will be eliminated. That&#8217;s how it work in Beta. But for next releases <code>data-*</code> attributes will be treated specially, so even if value is null or false they will be rendered as empty ones.<br />
</p><h2>Conclusions</h2><p>I haven&#8217;t noticed any more changes so far. It&#8217;s great to see that Razor has not been &#8220;frozen&#8221; and still improving. I like that view engine first of all by it&#8217;s simplicity. So making it even more simple would definitely make it more attractive.<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/04/why-im-not-using-bundling-yet.html">
    
      Why I&#8217;m Not Using Bundling.. Yet</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-04-04T18:32:00+03:00" pubdate data-updated="true">Apr 4<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/mvc/'>MVC</a>, <a class='category' href='/blog/categories/asp-dot-net/'>asp.net</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>Last time I a <a href="http://www.beletsky.net/2012/04/new-in-aspnet-mvc4-bundling-and.html">posted</a> some initial info about Bundling and Minification abilities of MVC4. In this post, I describe some concerns that prevents me of using it right now. Let me remind that I&#8217;m doing review of MVC 4 beta and I hope some of those concern would not be actual at the time of release. This is only personal considerations, you might not agree with everything here.<br />
</p><h2>It&#8217;s contra-intuitive</h2><p>Maybe the &#8216;contra-intuitive&#8217; is not exact word that reflects my frustration. What I mean, it does not do what you might expect by default. Remember I described two methods RegisterTemplateBundles() and EnableDefaultBundles()? It was really unclear to me what they do until I looked into code. Modern frameworks tend to be as less surprise as possible, but not in case of <code>System.Web.Optimizations</code>. <br />
</p><h2>Development and production mode</h2><p>The fact it does not take into account &#8216;Debug&#8217; and &#8216;Release&#8217; mode is also very confusing. As same as in point above, I have a different expectations how it should behave. For &#8216;Debug&#8217; mode it simply should do nothing - no optimization, no compression. For release mode it should do as much as possible to minify the number of HTTP request. It turns out that you have to create some code on your own to make it happen. <br />
</p><h2>Bundling is bad during debugging</h2><p>While you in development mode you do debug, no surprise here. Having FireBug or Chrome Development tools it&#8217;s very easy to debug javascript, you can pick up any file and place breakpoint inside.<br />
</p><a href="https://lh6.googleusercontent.com/-gVLbEPHXI40/T3xo1NZddXI/AAAAAAAAIUQ/ZYjIwH4W1Tw/s619/image-1.png"><br />
<img src="https://lh6.googleusercontent.com/-gVLbEPHXI40/T3xo1NZddXI/AAAAAAAAIUQ/ZYjIwH4W1Tw/s619/image-1.png" alt="chrome development" /><br />
</a><br />
<p>It is no so easy with bundling, cause it will package all your files in one big chunk, so you need to open and find right place there. Since the total number of line could be huge there, it&#8217;s turns to be big deal.<br />
</p><p>As a workaround you have to have a copies of references, one you using on development and ones you use on production.<br />
</p><pre class="brush: csharp">&lt;!-- Development --&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/jquery-1.6.4.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/jquery.mobile-1.0b3.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/knockout-2.0.0.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/underscore.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/App/CacheInit.js&quot;&gt;&lt;/script&gt;     

&lt;!-- Production 
&lt;script type=&quot;text/javascript&quot; src=&quot;@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl(&quot;~/Scripts/js&quot;)&quot;&gt;&lt;/script&gt;
--&gt;
</pre><h2>It&#8217;s not well ironed</h2><p>Since it&#8217;s very young obviously it has some problems. <br />
</p><p>Be honest, I haven&#8217;t seen on my own but one of the comments in my previous post described the issue with minification of CSS files that include <code>-ie-</code> specific selectors. That&#8217;s probably not only one issue found.<br />
</p><h2>What did I expect?</h2><p>To do not have only critics I try to put some constructive part in post as well. Ok, so I see it should work to meet my needs? <br />
</p><p>First of all, it should be implemented as simple HTML razor helpers. You just specify the name of bundle there, like &#8220;scripts/js&#8221; and that&#8217;s it. Helper is smart enough to understand what is active environment at the moment. In case of &#8216;Debug&#8217; it expanded to a bunch of script references or links, for JS and CSS respectively. In &#8216;Release&#8217; mode it&#8217;s indeed refers the bundle, so it&#8217;s packaged and minified for best performance.<br />
</p><p>You might say, that 1. this is out of scope for <code>System.Web.Optimization</code> framework 2. you can create this behavior easily on your own. This is right, but in the same time if you deal with ASP.NET MVC4 you have some expectation that is should work right and you are not forced to invent the wheel again, so you have kind of consistency between numerous projects.<br />
</p><p>I&#8217;ve been thinking about to create something like that, but during the chat with fellow developer <a href="">@andrexx</a> about bundling and he showed me something interesting. <a href="https://twitter.com/#!/tdupont750">Tom DuPont</a> has already implemented something that&#8217;s really reflects my needs. It&#8217;s the <a href="http://www.tomdupont.net/2012/03/configuring-bundles-in-mvc-4.html">way</a> of configuring bundles both from code and web.config. It looks like a very handy tool.<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/04/new-in-aspnet-mvc4-bundling-and.html">
    
      New in ASP.NET MVC4: Bundling and Minification</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-04-02T09:44:00+03:00" pubdate data-updated="true">Apr 2<span>nd</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/css/'>CSS</a>, <a class='category' href='/blog/categories/javascript/'>JavaScript</a>, <a class='category' href='/blog/categories/mvc/'>MVC</a>, <a class='category' href='/blog/categories/asp-dot-net/'>asp.net</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>Next new feature that appeared in MVC 4 beta is bundling and minification. Idea is simple: modern web application contains of many static resources, especially css and javascript files. To load the page browser have to load each resource. Each resource is being requested by HTTP request. Browser have to make as many request as page refers, wait till all are completed and only after that render the page.<br />
</p><p>The problem is, each HTTP request takes time. One of the most critical Yahoo web applications performance recommendation says - <a href="http://developer.yahoo.com/performance/rules.html">Minimize HTTP request</a>. As few HTTP requests you need to load application as better.<br />
</p><h2>System.Web.Optimization<br />
</h2><p>Bundling and minification is located in it&#8217;s own namespace <code>System.Web.Optimization</code> and resides in assembly named <code>Microsoft.Web.Optimization</code>, which is installed by default with new ASP.NET MVC4 application template as NuGet package. Since it&#8217;s still in beta, namespaces and class names are probably be changing, but let&#8217;s look on that we have now.<br />
</p><h2>What is bundle?<br />
</h2><p>Bundle is simply logical group of files that could be referenced by unique name and being loaded with one HTTP request. Suppose, we have a Layout.cshtml that might look something like that:<br />
</p><pre class="brush: html">&lt;meta charset=&quot;utf-8&quot; /&gt;

&lt;title&gt;@ViewBag.Title&lt;/title&gt; 
        
&lt;link rel=&quot;stylesheet&quot; href=&quot;~/Content/jquery.mobile-1.0b3.min.css&quot; /&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;~/Content/reset.css&quot; /&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;~/Content/foundation.css&quot; /&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;~/Content/Fonts.css&quot; /&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;~/Content/Site.Layout.css&quot; /&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;~/Content/Site.Mobile.css&quot; /&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/jquery-1.6.4.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/jquery.mobile-1.0b3.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/knockout-2.0.0.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/underscore.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/App/CacheInit.js&quot;&gt;&lt;/script&gt;        
</pre><p>You can see, that&#8217;s a lot of css and javascript that will be loaded for page. With bundling we can rewrite it with very simple code<br />
</p><pre class="brush: html">&lt;meta charset=&quot;utf-8&quot; /&gt;

&lt;title&gt;@ViewBag.Title&lt;/title&gt; 
        
&lt;link rel=&quot;stylesheet&quot; href=&quot;@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl(&quot;~/Content/css&quot;)&quot; /&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl(&quot;~/Scripts/js&quot;)&quot;&gt;&lt;/script&gt;
</pre><p>In this case <code>"~/Content/css"</code> and <code>"~/Scripts/js"</code> are no longer virtual paths, but bundle names. <br />
</p><p>The the browser would load this page, rendered HTML would look like:<br />
</p><pre class="brush: html">&lt;link href=&quot;/Content/css?v=q_sftc19r22licIM8-Ar58FwviyWry1JuYbA-iATm4M1&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;script src=&quot;/Scripts/js?v=_8kyYWxz-Je_VE0p3_w5nbcjAhq0Qj4vZiNxvYU_oBg1&quot;&gt;&lt;/script&gt;
</pre><p>Note, it would reference the bundle with version. The version is a kind of hash taken on all files in bundle content. This enables browser caching, if content of bundle is not change browser will take it from cache, which is much faster. In case of changes, new version token is generated, so browser would be forced to reload bundle.<br />
</p><a href="https://lh4.googleusercontent.com/-XZFZlvPjPoE/T3lKUgcghZI/AAAAAAAAIS4/_8RlXLXOx24/s619/image-1.png"><br />
    <img src="https://lh4.googleusercontent.com/-XZFZlvPjPoE/T3lKUgcghZI/AAAAAAAAIS4/_8RlXLXOx24/s619/image-1.png" alt="chrome development tools" /><br />
</a><br />
<h2>Bundle registration<br />
</h2><p>In <code>global.asax</code> file you will see new line:<br />
</p><pre class="brush: csharp">    BundleTable.Bundles.RegisterTemplateBundles();
</pre><p>It&#8217;s only one small line of code that enables bundling and minification framework.<br />
</p><h2>RegisterTemplateBundles() vs. EnableDefaultBundles()<br />
</h2><p>It looks fine so far, so I tried to add new javascript file into Scripts folder. Unfortunately, my application did not work. I think this is first very contra-intuitive fact of bundling framework. Googling a bit I found quick solution, change RegisterTemplateBundles() to EnableDefaultBundles().. I tried that and it really works.<br />
</p><p>Since the <code>System.Web.Optimization</code> has not been opened sourced yet (in case you haven&#8217;t heard - ASP.NET web stack is <a href="http://weblogs.asp.net/scottgu/archive/2012/03/27/asp-net-mvc-web-api-razor-and-open-source.aspx">open source</a>, even with accepting pull request) I had to go to <a href="http://www.telerik.com/products/decompiler.aspx">JustDecompile</a> to understand why is that.<br />
</p><p>So, RegisterTemplateBundles() is looks like that,<br />
</p><pre class="brush: csharp">public void RegisterTemplateBundles()
{
    bool flag;
    bool flag2;
    bool flag3;
    bool flag4;
    bool flag5;
    bool flag6;
    bool flag7;
    Bundle bundle1 = new Bundle("~/Scripts/js", new JsMinify());
    bool flag8 = false.AddDirectory("~/Scripts", "jquery-*", flag, flag8);
    bool flag9 = false.AddDirectory("~/Scripts", "jquery.mobile*", flag2, flag9);
    bool flag10 = false.AddDirectory("~/Scripts", "jquery-ui*", flag3, flag10);
    bool flag11 = false.AddDirectory("~/Scripts", "jquery.unobtrusive*", flag4, flag11);
    bool flag12 = false.AddDirectory("~/Scripts", "jquery.validate*", flag5, flag12);
    bool flag13 = false.AddFile("~/Scripts/MicrosoftAjax.js", flag13);
    bool flag14 = false.AddFile("~/Scripts/MicrosoftMvc.js", flag14);
    bool flag15 = false.AddDirectory("~/Scripts", "modernizr*", flag6, flag15);
    bool flag16 = false.AddFile("~/Scripts/AjaxLogin.js", flag16);
    this.Add(bundle1);
    Bundle bundle2 = new Bundle("~/Content/css", new CssMinify());
    bool flag17 = false.AddFile("~/Content/site.css", flag17);
    bool flag18 = false.AddDirectory("~/Content/", "jquery.mobile*", flag7, flag18);
    this.Add(bundle2);
    Bundle bundle3 = new Bundle("~/Content/themes/base/css", new CssMinify());
    bool flag19 = false.AddFile("~/Content/themes/base/jquery.ui.core.css", flag19);
    bool flag20 = false.AddFile("~/Content/themes/base/jquery.ui.resizable.css", flag20);
    bool flag21 = false.AddFile("~/Content/themes/base/jquery.ui.selectable.css", flag21);
    bool flag22 = false.AddFile("~/Content/themes/base/jquery.ui.accordion.css", flag22);
    bool flag23 = false.AddFile("~/Content/themes/base/jquery.ui.autocomplete.css", flag23);
    bool flag24 = false.AddFile("~/Content/themes/base/jquery.ui.button.css", flag24);
    bool flag25 = false.AddFile("~/Content/themes/base/jquery.ui.dialog.css", flag25);
    bool flag26 = false.AddFile("~/Content/themes/base/jquery.ui.slider.css", flag26);
    bool flag27 = false.AddFile("~/Content/themes/base/jquery.ui.tabs.css", flag27);
    bool flag28 = false.AddFile("~/Content/themes/base/jquery.ui.datepicker.css", flag28);
    bool flag29 = false.AddFile("~/Content/themes/base/jquery.ui.progressbar.css", flag29);
    bool flag30 = false.AddFile("~/Content/themes/base/jquery.ui.theme.css", flag30);
    this.Add(bundle3);
}
</pre><p>As you can see it adds all recourses that came just in template, including jQuery Mobile and jQuery UI. <br />
</p><p>In the same time, EnableDefaultBundles()<br />
</p><pre class="brush: csharp">public void EnableDefaultBundles()
{
    this.Add(new DynamicFolderBundle("js", JsMinify.Instance, "*.js"));
    this.Add(new DynamicFolderBundle("css", CssMinify.Instance, "*.css"));
}
</pre><p>So, what it does - it matches all javascript and css files in project, minify them and create to bundles out of it.<br />
</p><p>As you can see <code>EnableDefaultBundles()</code> is also uses Minification policy for bundle content.<br />
</p><h2>How add my own custom bundle?<br />
</h2><p>As simple as create new <code>Bundle</code> object, put files inside and then add it to Bundles collection.<br />
</p><pre class="brush: csharp">var bundle = new Bundle("~/Scripts/libs", new JsMinify());
bundle.AddFile("~/Scripts/knockout-2.0.0.js");
BundleTable.Bundles.Add(bundle);
</pre><p>But there two issues here. First of all, you don&#8217;t always want to minify. Second, adding bundles with many files will make global.aspx.cs looks messy. I really liked approached proposed by Scott K. Allen in his <a href="http://odetocode.com/Blogs/scott/archive/2012/03/20/yet-another-bundling-approach-for-mvc-4.aspx">Yet Another Bundling Approach for MVC 4</a> blog post. He does it in more object-oriented way including smart code to decide, should the bundle be minified or not. All you need is just take code he created and after you are able to make bundles like that.<br />
</p><pre class="brush: csharp">public class JsLibsBundle : JsBundle
{
    public JsLibsBundle() : base("~/js/libs")
    {
        AddFiles(
            "~/Scripts/jquery-1.6.4-vsdoc.js",
            "~/Scripts/jquery-1.6.4.js",
            "~/Scripts/jquery.mobile-1.0b3.js",
            "~/Scripts/knockout-2.0.0.js",
            "~/Scripts/modernizr-2.0.6-development-only.js",
            "~/Scripts/underscore.js"
        );
    }
}

public class CssAppBundle : CssBundle
{
    public CssAppBundle() : base("~/css/mobile")
    {
        AddFiles(
            "~/Content/jquery.mobile-1.0b3.css",
            "~/Content/Site.Mobile.css"
        );
    }
}
</pre><p>And put them to registered those classes in global.asax.cs<br />
</p><pre class="brush: csharp">    BundleTable.Bundles.Add(new JsLibsBundle());
    BundleTable.Bundles.Add(new CssAppBundle());
</pre><h2>Ok, how all that stuff works?<br />
</h2><p>Now let&#8217;s do a really brief look under the hood. Again, <a href="http://www.telerik.com/products/decompiler.aspx">JustDecompile</a> is our friend here. <br />
</p><p>It was interesting to me to find out new cool way of registration modules in ASP.NET. No longer entry points in web.config or other magic. You can have a special class <code>PreApplicationStartCode</code> that would be called then assembly is loaded, but before application is stated.<br />
</p><pre class="brush: csharp">public static class PreApplicationStartCode
{
    private static bool _startWasCalled;

    public static void Start();
}
</pre><p>Here <code>System.Web.Optimization</code> register it&#8217;s own module, called <code>BundleModule</code>.<br />
</p><pre class="brush: csharp">public static void Start()
{
    if (PreApplicationStartCode._startWasCalled)
    {
        return;
    }
    PreApplicationStartCode._startWasCalled = 1;
    DynamicModuleUtility.RegisterModule(typeof(BundleModule));
}
</pre><p>Then the module is intialized, it subscribes for event called <a href="http://msdn.microsoft.com/en-us/library/system.web.httpapplication.postresolverequestcache(v=vs.90).aspx">HttpApplication.PostResolveRequestCache</a> and inside the callback it would register the <code>BundleHandler</code>.<br />
</p><pre class="brush: csharp">private void OnApplicationPostResolveRequestCache(object sender, EventArgs e)
{
    HttpApplication httpApplication = (HttpApplication)sender;
    if (BundleTable.Bundles.Count > 0)
    {
        BundleHandler.RemapHandlerForBundleRequests(httpApplication);
    }
}
</pre><p>The handler is now responsible for dirty job. Through the <code>RequestBundle</code> class it finally comes to <code>ProcessRequest</code> method.<br />
</p><pre class="brush: csharp">internal void ProcessRequest(BundleContext context)
{
    context.EnableInstrumentation = Bundle.GetInstrumentationMode(context.HttpContext);
    BundleResponse bundleResponse = this.GetBundleResponse(context);
    Bundle.SetHeaders(bundleResponse, context);
    context.HttpContext.Response.Write(bundleResponse.Content);
}
</pre><p>So, the <code>GetBundleResponse</code> is there magic is happens. <br />
</p><pre class="brush: csharp">private BundleResponse GetBundleResponse(BundleContext context)
{
    BundleResponse bundleResponse = Bundle.CacheLookup(context);
    if (bundleResponse == null || context.EnableInstrumentation)
    {
        bundleResponse = this.GenerateBundleResponse(context);
        if (!context.EnableInstrumentation)
        {
            Bundle.UpdateCache(context, bundleResponse);
        }
    }
    return bundleResponse;
}
</pre><p>What&#8217;s important here is that it uses cache. So, it makes bundling rather efficient. In case if there are no cached result, it will run the <code>GenerateBundleResponse</code> to generate actual response:<br />
</p><pre class="brush: csharp">public virtual BundleResponse GenerateBundleResponse(BundleContext context)
{
    if (context == null)
    {
        throw new ArgumentNullException("context");
    }
    IEnumerable&lt;FileInfo&gt; fileInfos = this.EnumerateFiles(context);
    fileInfos = context.BundleCollection.IgnoreList.FilterIgnoredFiles(fileInfos);
    fileInfos = this.Orderer.OrderFiles(context, fileInfos);
    fileInfos = this.ReplaceFileExtensions(context, fileInfos);
    string str = this.Builder.BuildBundleContent(this, context, fileInfos);
    BundleResponse bundleResponse = new BundleResponse(str, fileInfos);
    this.Transform.Process(context, bundleResponse);
    return bundleResponse;
}
</pre><p>Yet another interesting finding here is <code>this.Orderer</code>. Sometime ago I did smalltalk on <a href="http://kievalt.net">Kiev ALT.NET</a> meeting about new stuff in VS2011 and being asked a question, how is possible to order the files. I didn&#8217;t know answer then. It is actually possible to setup the order of files inside bundle, in case you have cross-file dependencies:<br />
</p><pre class="brush: csharp">public interface IBundleOrderer
{
 IEnumerable&lt;FileInfo&gt; OrderFiles(BundleContext context, IEnumerable&lt;FileInfo&gt; files);
}
</pre><p>That&#8217;s it, the generated response than just being written to <code>context.HttpContext.Response</code>.<br />
</p><h2>Conclusions</h2><p>Bundling and minification is something that I personally wanted so much, to appear in new MVC framework. Now it&#8217;s there, it works.. but I would not say I&#8217;m 100% happy. There are several things that makes it a little difficult to use, as for me. I did want to place it in this post, but appeared to big.. So, I&#8217;ll probably do a separate one on this matter. <br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/03/ms-swit-2012.html">
    
      MS SWIT 2012</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-03-27T09:26:00+03:00" pubdate data-updated="true">Mar 27<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/conference/'>Conference</a>, <a class='category' href='/blog/categories/speeches/'>Speeches</a>, <a class='category' href='/blog/categories/asp-dot-net/'>asp.net</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>The 22-23 of March this year I had a chance to participate biggest event organized by Microsoft Ukraine - <a href="http://www.msswit.in.ua/eng/">MS SWIT 2012</a>. <br />
</p><a href="https://lh3.googleusercontent.com/-cRLz5_WgVdQ/T3FcfX8ELjI/AAAAAAAAIOk/uSY2Pa50ryc/s1024/image-1.png"><br />
<img src="https://lh3.googleusercontent.com/-cRLz5_WgVdQ/T3FcfX8ELjI/AAAAAAAAIOk/uSY2Pa50ryc/s1024/image-1.png" alt="ms swit 2012" style="width: 620px"/><br />
</a><br />
<p>It&#8217;s been almost two years ago I visited MS SWIT 2010. If the primary topic of last conference was cloud technologies - Azure, SQL etc. This time I would say the buzz was around Windows 8, Market Place and Metro-style applications. Of cause, there was still a lot of attention to Azure as well.<br />
</p><p>I really much enjoyed the Keynote of first day by <a href="http://www.linkedin.com/pub/wolfgang-ebermann/4/825/278">Wolfgang Ebermann</a>. Indeed, Microsoft opens pretty much interesting opportunities for developers on Windows 8 and Windows Phone markets. Not long time ago Ukraine officially is a part of MarketPlace, so no time to wait - go and create you first Metro style app. And with new Microsoft policies regarding adoption of open standards like HTLM5, EcmaScript - it looks really attractive to me.<br />
</p><p>Big attention was also about new recent releases like: Share Point, SQL Server Denali, Windows Server 8 etc. I would not say this is exactly interesting to me, since I more focus on web technologies, but it&#8217;s always good to be aware what&#8217;s going on around. First day of conference got a lot  people moving around, so if you wanted to listen for some interesting speech you have to be in time to get free sit. Second day was not so overcrowded as for me, so the people who didn&#8217;t come have to be sorry, cause Second day was much more interesting. <br />
</p><p>My talk was about new stuff in ASP.NET MVC4, with more focus to mobile web applications. That was the biggest audience I ever speak to. There was almost no free sits.. I don&#8217;t know for sure it contained 150-200 people.. Huge!<br />
</p><p>Being much inspired by Steve Sanderson <a href="http://channel9.msdn.com/Events/TechDays/TechDays-2012-Belgium/199">talk</a> on TechDays 2012, I decided to make something similar. I came up with idea of simple mobile web application, namely it is a web client to <a href="http://asp.net">http://asp.net</a> portal and develop it just during the speech. I had several issue&#8217;s there, first one I did a little more longer introduction and then some issues with internet that made me a little nervous and I lose tempo a bit. That forced me to skip the last part of talk regarding Offline mode for apps. Anyway, I hope I was able to show new sweet available stuff like CSS3 Media Queries, Display Modes and jQuery Mobile framework. <br />
</p><script src="http://speakerdeck.com/embed/4f6c7d411388a6002101e8f1.js"></script><br />
<p>Thanks a lot for everyone who listened to me and came up with questions. I appreciate your attention and hope my talk was useful for you.<br />
</p><a href="https://lh3.googleusercontent.com/-bLh_7pAn2gY/T3FcfXZctCI/AAAAAAAAIOc/76pxYKZvujQ/s733/image-2.png"><br />
<img src="https://lh3.googleusercontent.com/-bLh_7pAn2gY/T3FcfXZctCI/AAAAAAAAIOc/76pxYKZvujQ/s733/image-2.png" alt="asp.net portal mobile" style="width: 620px"/><br />
</a><br />
<p>Regarding the app, I polished it a bit and going to release closer to the end of next week. The sources are hosted on <a href="https://github.com/alexanderbeletsky/aspnet.mobile">https://github.com/alexanderbeletsky/aspnet.mobile</a>, feel free to clone and send a pull request.<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  <div class="pagination inner pure-u-1">
    
      <a class="prev" href="/blog/page/9/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/7/">Newer &rarr;</a>
    
  </div>
</div></div>
	<footer class="pure-g-r"><div class="inner pure-u-1">
	<p>
		Theme by <a href="https://twitter.com/alexbeletsky">@alexbeletsky</a> | Fonts by <a href="http://www.google.com/fonts/">Google Fonts</a> | Icons by <a href="http://fontello.com/">Fontello</a> | Hosted on <a href="http://github.com">github</a> | Powered by <a href="http://octopress.org/">Octopress</a>
	</p>
	<p>
		Copyright  2010 - 2013 beletsky.net
	</p>
</div>

</footer>
	<div class="buttons">
	


	
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


	
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


	
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


	

</div>
</body>
</html>