
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Alexander Beletsky's development blog</title>
  <meta name="author" content="Alexander Beletsky">

  
  <meta name="description" content="Baby Steps to Backbone.js: Starting up Oct 25th, 2012 BabyStepsBackbone, Backbone.js, JavaScript Many times then I speak to people regarding usage &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://alexanderbeletsky.github.io/blog/page/3/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/fontello.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/pure-min.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/style.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Alexander Beletsky's development blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:800' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>

  

</head>


<body>
	<header class="pure-g-r"><div class="pure-g-r">
	<div class="inner pure-u-1">
		<h4 class="light">Alexander Beletsky's development blog</h4>
		<h1><a href="/">My profession is engineering</a></h1>
		<nav role="navigation" class="pure-menu pure-menu-open pure-menu-horizontal"><ul>
	<li><a href="/projects">Projects</a></li>
	<li><a href="/talks">Talks</a></li>
	<li><a href="/blog/archives">Archive</a></li>
	<li><a href="/about">About me</a></li>
</ul>

</nav>
	</div>
</div>

</header>
	<div class="social inner pure-menu-horizontal"><ul>
	<li><a class="twitter icon-twitter" href="http://twitter.com/alexbeletsky"></a></li>
	<li><a class="github icon-github-circled" href="https://github.com/alexanderbeletsky"></a></li>
	<li><a class="stackoverflow icon-stackoverflow" href="http://stackoverflow.com/users/386751/alexanderb"></a></li>
	<li><a class="rss icon-rss" href="http://feeds.feedburner.com/abeletskyblog"></a></li>
</ul>
</div>
	<div id="content" class="inner pure-g-r"><div class="blog-index">
  
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/10/baby-steps-to-backbonejs-starting-up.html">
    
      Baby Steps to Backbone.js: Starting up</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-10-25T22:40:00+03:00" pubdate data-updated="true">Oct 25<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/babystepsbackbone/'>BabyStepsBackbone</a>, <a class='category' href='/blog/categories/backbone-dot-js/'>Backbone.js</a>, <a class='category' href='/blog/categories/javascript/'>JavaScript</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
    <p>Many times then I speak to people regarding usage of any kind of MV* frameworks on front-end I hear common objection: &#8220;but we already have a lot of code written on jQuery/Dojo/Whatever, I think usage of additional framework would be impossible&#8221;. This is not actually true. Backbone is very lightweight and could fit into any existing application.<br />
</p><p>Baby steps strategy is the most efficient way of trying the things. You start with something really small, enhance it over the time and expand for other application areas. Now, let&#8217;s imagine you got an existing application, you wish to start using Backbone.js to improve that. I would like to show you, that it&#8217;s absolutely possible.<br />
</p><p>Suppose, you want to add a feedback form for your app. Let&#8217;s implement that with Backbone.js.<br />
</p><h2>Applications, Models, Views</h2><p>There are no such thing as `Controller` in Backbone.js. But you have to have some kind of entry point, some place with `main()` function inside. I got used to call this place - Application. Basically, the application is a module, which is responsible for initialization of model, instantiation of view, rendering the view.<br />
</p><p>The `Model` is object that holds the data. It could be fetched and persisted back to server.<br />
</p><p>And finally view is object that produces markup, hooking up events and updates View from data in Model and otherwise.<br />
</p><p>We are going to create all three things. It makes a lot of sense to breakdown the folder structure of to reflect logical meaning of each entity of Backbone application. So, we&#8217;ll create 3 folders for apps, models and views.<br />
</p><a href="https://lh5.googleusercontent.com/-aFNqz_2e_i4/UImU8WZaMEI/AAAAAAAAKZ0/-v-Jb5EttRY/s620/image-1.png"><br />
<img src="https://lh5.googleusercontent.com/-aFNqz_2e_i4/UImU8WZaMEI/AAAAAAAAKZ0/-v-Jb5EttRY/s620/image-1.png"/><br />
</a><br />
<h2>Setup Backbone.js</h2><p>On a target html page we should place 2 additional script tags.<br />
</p><pre class="brush: html">&lt;script src=&quot;/scripts/libs/underscore.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/scripts/libs/backbone.js&quot;&gt;&lt;/script&gt;
    </pre><p>Besides of that, let&#8217;s add one more div. The one that application will be using for rendering views.<br />
</p><pre class="brush: html">&lt;div id=&quot;app&quot; class=&quot;container&quot;&gt;&lt;/div&gt;
    </pre><h2>Application entry point</h2><p>Let&#8217;s create a new file in `apps` folder and call it `FeedbackFormApp.js`. It would be very simple.<br />
</p><pre class="brush: js">$(function () {
    var model = new Feedback();
    var view = new FeedbackFormView ({model: model});
    
    $('#app').html(view.render().el);
});
    </pre><p>Then DOM is ready, we instantiate new model object and view and render the form into DOM element with id - app.<br />
</p><h2>Feedback model</h2><p>Now, let&#8217;s define a model. Create a new file in models folder and call it `Feedback.js`.<br />
</p><p>The model refects the data we are collecting/displaying to user and it&#8217;s typically stored on server (sometimes on localstorage). Feedback model will include 3 attributes: email of user, his web site and the feedback text. In terms of Backbone.js that would mean.<br />
</p><pre class="brush: js">var Feedback = Backbone.Model.extend({

    url: '/feedback',

    defaults: {
        'email': '',
        'website': '',
        'feedback': ''
    }

});
    </pre><p>The <code>url</code> property of model object is used by Backbone for persisting object to server. The <code>default</code> are defaults values for model attributes.<br />
</p><h2>Rendering the view</h2><p>The most interesting things in Backbone.js app is happening in Views. Add new file to `views` folder - FeedbackView.js.<br />
</p><p>The skeleton of view would look like this:<br />
</p><pre class="brush: js">var FeedbackFormView = Backbone.View.extend({
   className: 'row',

    render: function () {
        return this;
    }
});
    </pre><p>This view, does do nothing. So, let make it render the template. The template would be very simple form.<br />
</p><p>There are different approaches, there to actually place the markup. It&#8217;s possible to place it in the same .html file where view starts and extract it by jQuery, it&#8217;s possible to place to separate file and load it asynchronously by $.get(). But, according to baby steps scenario - we&#8217;ll place it directly to .js file. So, inside the view we&#8217;ll add property called template.<br />
</p><pre class="brush: js">template: '\
 &lt;form&gt;\
  &lt;legend&gt;Share the feedback&lt;/legend&gt;\
  &lt;div class=&quot;control-group&quot;&gt;\
   &lt;label&gt;Email&lt;/label&gt;\
   &lt;input type=&quot;text&quot; id=&quot;email&quot; placeholder=&quot;Your email address...&quot;&gt;\
  &lt;/div&gt;\
  &lt;div class=&quot;control-group&quot;&gt;\
   &lt;label&gt;Web site&lt;/label&gt;\
   &lt;input type=&quot;text&quot; id=&quot;website&quot; placeholder=&quot;Your website...&quot;&gt;\
  &lt;/div&gt;\
  &lt;div class=&quot;control-group&quot;&gt;\
  &lt;label&gt;Feedback&lt;/label&gt;\
  &lt;textarea id=&quot;feedback&quot; class=&quot;input-xxlarge&quot; placeholder=&quot;Feedback text...&quot; rows=&quot;6&quot;&gt;&lt;/textarea&gt;\
  &lt;/div&gt;\
  &lt;button type=&quot;submit&quot; id=&quot;submit&quot; class=&quot;btn&quot;&gt;Submit&lt;/button&gt;\
 &lt;/form&gt;\
',
    </pre><p>And render method, would be:<br />
</p><pre class="brush: js">render: function () {
    this.$el.html(this.template);

    return this;
}
    </pre><h2>First test</h2><p>Basically, we are ready to see some results. Modify the target view by adding references to model and view.<br />
</p><pre class="brush: html">&lt;script src=&quot;/scripts/src/models/Feedback.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/scripts/src/views/FeedbackFormView.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/scripts/src/apps/FeedbackFormApp.js&quot;&gt;&lt;/script&gt;
    </pre><p>Fire up the application and go to target page. You should be able to see something like this (for styles I use <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a> here).<br />
</p><a href="https://lh5.googleusercontent.com/-asgv034ZUyA/UImU8iURcEI/AAAAAAAAKZ4/9Yga2hCy9TQ/s620/image-2.png"><br />
<img src="https://lh5.googleusercontent.com/-asgv034ZUyA/UImU8iURcEI/AAAAAAAAKZ4/9Yga2hCy9TQ/s620/image-2.png"/><br />
</a><br />
<p>If you see the form on screen, it means application started properly.<br />
</p><h2>Submitting the form</h2><p>We enter the data into input fields and as soon as data is in-place we are ready to submit. It means we have to catch an event of `Submit` button click and store the model to server.<br />
</p><p>To explain to Backbone.js that you interested in particular DOM event, you need to add another property to view. It is called <code>events</code>.<br />
</p><pre class="brush: js">events: {
    'click #submit': 'submitClicked'
},
    </pre><p>You can read it as - if click happed to element with id `submit`, call function submitClicked.<br />
</p><pre class="brush: js">submitClicked: function (e) {
    e.preventDefault();

    var options = {
        success: function () {
            alert('Thanks for the feedback!');
        },
        error: function () {
            alert('Opps, your feedback has not been submitted, please try again.');
        }
    };

    var feedback = {
        email: this.$('#email').val(),
        website:  this.$('#website').val(),
        feedback: this.$('#feedback').val()
    };

    this.model.save(feedback, options);
}
</pre><p>What it does, is first of all prevent the default behavior of event. So, the form would not be actually posted to server. Second, it prepares the options object&#8217;s with success and error handlers. After we initialize all attributes with actual values from corresponding inputs/textbox. And finally we call model.save().<br />
</p><h2>Second test</h2><p>Fire up application again. Now, if have properly set-up server side to receive the HTTP post call to `/feedback` you actually post first feedback.<br />
</p><a href="https://lh5.googleusercontent.com/-xoKGopfbwlw/UImU8rspz_I/AAAAAAAAKZ8/8D3bgfnRpgE/s620/image-3.png"><br />
<img src="https://lh5.googleusercontent.com/-xoKGopfbwlw/UImU8rspz_I/AAAAAAAAKZ8/8D3bgfnRpgE/s620/image-3.png"/><br />
</a><br />
<p>From my server trace, I can see that new object is received.<br />
</p><a href="https://lh6.googleusercontent.com/-FPoQZTARH0g/UImU9HR4aHI/AAAAAAAAKaA/fhPj64h6cr8/s621/image-4.png"><br />
<img src="https://lh6.googleusercontent.com/-FPoQZTARH0g/UImU9HR4aHI/AAAAAAAAKaA/fhPj64h6cr8/s621/image-4.png"/><br />
</a><br />
<p>Now, it&#8217;s the server job to put to storage, allocate the id etc.<br />
</p><h2>Conclusions</h2><p>In this first baby step, I just showed how it&#8217;s possible to adopt Backbone.js for existing apps. It does not make a lot of sense to re-write your existing code with Backbone.js, but new widgets/elements/applications could be created with Backbone, having a benefit of it&#8217;s structural approach.<br />
</p><p>I&#8217;ll go on with baby steps, showing other features of Backbone.js.<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/10/typescript-language.html">
    
      Looking at TypeScript</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-10-05T21:24:00+03:00" pubdate data-updated="true">Oct 5<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/javascript/'>JavaScript</a>, <a class='category' href='/blog/categories/mind/'>Mind</a>, <a class='category' href='/blog/categories/typescript/'>TypeScript</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>Four days ago my twitter has been nuked. The bomb has exploded after <a href="http://www.typescriptlang.org/">TypeScript</a> site link has reach to top of <a href="http://news.ycombinator.com/item?id=4597716">Hacker News</a> and people watched the <a href="http://channel9.msdn.com/posts/Anders-Hejlsberg-Introducing-TypeScript">video of Anders Hejlsberg</a> who generally described the language features and showed some example. Everybody were talking about TypeScript.<br />
</p><p>For ones who missed the video (I can&#8217;t believe you did) I shortly describe - TypeScript in new open source project, by Microsoft. It&#8217;s leader <a href="http://en.wikipedia.org/wiki/Anders_Hejlsberg">Anders Hejlsberg</a> is very famous developer (my bad, I always forget his name), creator of C# and one of the persons who most influenced .NET platform. TypeScript compiled down to JavaScript, but it introduce the types checking during compilation, so it could be called &#8216;static typed language&#8217;.<br />
</p><p>First of all, TypeScript is definitely <a href="https://github.com/jashkenas/coffee-script/wiki/List-of-languages-that-compile-to-JS">not the first language</a>, that complies to JavaScript. It&#8217;s not the first one that augments JavaScript with new statements like class, interface or module. So, what&#8217;s so interesting on it?<br />
</p><p>I&#8217;ve been using static type languages for about 10 years. I&#8217;ve very much got used to compiler error messages and truly believed that it helps to build applications. Meaning, the complier is first guard towards the &#8216;good&#8217; code. To the code that could be called reliable, error free. <br />
</p><p>But situation much changed after I start programming JavaScript. <br />
</p><p>I feel myself quite productive with using of using JavaScript. Of cause, there are some best practice & patters are collected nowadays, we have better tools, faster engines and JavaScript has been so much adopted by community. But JavaScript is indeed, so powerful language. I really like the dynamic typing, that bit more forces to unit testing, making code changes more easy in the same time creating some very beautiful code structures.<br />
</p><p>I know that some people are saying, &#8220;we don&#8217;t need any static typing for JavaScript; please don&#8217;t change the language&#8221;. Such developers could be called &#8220;purists&#8221;. And they are absolutely right - if you feel confidence in something you do, you should not change the way you do it. <br />
</p><p>In another hand, I came to conclusion that it&#8217;s not dynamic types that makes me productive with JavaScript, but rather the experience I gathered with programming lately. It&#8217;s always only experience, that allows you to work faster, better quality and had fun of your job.<br />
<p>And it&#8217;s absolutely not about Static vs. Dynamic languages.<br />
</p><p>Static types are not useless, though. I think, in average it reduces the chances of bug introduction into the code. That&#8217;s at least what I&#8217;ve seen so far. And that&#8217;s why &#8220;purists&#8221; are running JSLint. Basically, Static Types should provide better application quality. This is of cause not completely true, since we know great software written in Python and poor systems written in C++.<br />
</p><p>It&#8217; about the engineers who build that software.<br />
</p><p>In my opinion the TypeScript will grow. It would have it&#8217;s own army of fans, like CoffeeScript have or Ruby have. The code that TypeScript outputs is nice and clean, that make easy of debugging it. TypeScript is designed to be closer to ECMAScript6 (Harmony), so in near future the pure JavaScript would start to look like TypeScript.<br />
</p><p>TypeScript is interesting project and open minded guys will like one. <br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/09/the-game-of-life.html">
    
      The Game of Life</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-09-27T11:52:00+03:00" pubdate data-updated="true">Sep 27<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/clean-code/'>Clean Code</a>, <a class='category' href='/blog/categories/code-kata/'>Code Kata</a>, <a class='category' href='/blog/categories/javascript/'>JavaScript</a>, <a class='category' href='/blog/categories/tdd/'>TDD</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
    <p>        Last weekend the good friends of mine were organizing great event, <a href="http://coderetreat.org/">CodeRetreat</a> in Odessa. I supposed to be there, but due to bad luck I missed that. Nevertheless, I was very interested in CodeRetreat idea, so I followed up the materials and learned a bit about it. <br />
    </p>    <p>        CodeRetreat is about the software craftsmanship. You focus on <a href="http://c2.com/cgi/wiki?XpSimplicityRules">4 principles of Simple Design</a>, work in pairs through the series of time boxed sessions, each time starting from scratch (yes, all code produced on previous sessions is destroyed with no mercy). All of that aim one simple goal, became a better developer. For the implementation they selected famous <a href="http://en.wikipedia.org/wiki/Conway's_Game_of_Life">Game of Life</a>. The cellular automata, with simple rules but given very interesting results and foundation for numerous researches.<br />
    </p>    <p>        To do not stay with my misery of missing event, I decided to &#8220;play&#8221; game of life at home. Trying to follow the rules of sessions, I started to write some JavaScript code. It&#8217;s even hard to tell, how much fun I had during this implementation.<br />
    </p>    <h2>Tests, code, tests</h2>    <p>        TDD is very recommended way of development in CodeRetreats. I love TDD and fortunately the game of life is very TDD friendly. It&#8217;s all about the logic. Logic seems to be very simple and easy describe with tests. For my JavaScript testing I used to use <a href="http://pivotal.github.com/jasmine/">Jasmine</a> testing framework. Jasmine is BDD tests style, which was a little difficult to me at very beginning, but not I tend to write all my tests with BDD style.<br />
    </p>    <p>        I&#8217;ve spent first two sessions for idea elaboration. At the end third session, I got something working. As I said, the process of writing that code was so fun to me, that I even decided to <a href="https://gist.github.com/3763692">gist</a> the code I created so far. <br />
    </p>    <a href="https://lh6.googleusercontent.com/-bBm_BGTuy1I/UGQSj4MCYCI/AAAAAAAAJfk/m1aRicC5pYY/s622/image-2.png"><br />
        <img src="https://lh6.googleusercontent.com/-bBm_BGTuy1I/UGQSj4MCYCI/AAAAAAAAJfk/m1aRicC5pYY/s622/image-2.png" /><br />
    </a><br />
    <p>        My big disappointment after was that code is actually not working.<br />
    </p>    <h2>Understanding the problem</h2>    <p>        Even if I had good tests suite, that showed my code works as expected the game was broken. And the issue is that I didn&#8217;t understand the domain good enough. It took me 4 sessions (about 4 hours) to finally understand the game.<br />
    </p>    <p>        I proved it once again for myself, there are no perfect code; the code you created at first time is probably broken (unless you understand the domain perfectly, but it&#8217;s rarely happen in reality). It&#8217;s OK to completely remove the code you created before and start from the beginning. And with each iteration you moving faster and faster.<br />
    </p>    <a href="https://lh4.googleusercontent.com/-HYIZR9Ssup4/UGQSj97MsoI/AAAAAAAAJfg/WZSrfAQcyd8/s622/image-3.png"><br />
        <img src="https://lh4.googleusercontent.com/-HYIZR9Ssup4/UGQSj97MsoI/AAAAAAAAJfg/WZSrfAQcyd8/s622/image-3.png" /><br />
    </a><br />
    <p>        Knowing the requirements I was able to create good test suite. <br />
    </p>    <h2>Algorithms and data structures</h2>    <p>        During the implementation, you have to recall some basics algorithms and data structures. My initial implementation was based on usage of 2-dimensional arrays. It seems to be very natural fit, since the game is happening on orthogonal grid of square cells. But during the implementation of cell replication logic I suffered that design.<br />
    </p>    <p>        Index arithmetic is very tricky and error-prone stuff. So, after several tries I switched from array into the list of cells, each cell holds it&#8217;s state and position. The <a href="https://github.com/alexanderbeletsky/gameoflife/blob/master/public/js/grid.js#L24">tick</a> method of became very elegant, containing 2-pass procedure - one to calculate next state of each state, second is to switch to new state.<br />
    </p>    <a href="https://lh5.googleusercontent.com/-JvlS1nI_Ay8/UGQSkXu3r-I/AAAAAAAAJfo/slOlEKrDXvo/s622/image-4.png"><br />
        <img src="https://lh5.googleusercontent.com/-JvlS1nI_Ay8/UGQSkXu3r-I/AAAAAAAAJfo/slOlEKrDXvo/s622/image-4.png" /><br />
    </a><br />
    <p>        Again, I was so happy with code. It looked very readable as for me, without nested cycles and if-else statements.<br />
    </p>    <h2>Visualisation</h2>    <p>        You can really understand if something works or not, only if you see it in action. I had to have some UI to see, how game is actually working. <br />
    </p>    <p>        I&#8217;ve created very simple HTML based UI. The number of div&#8217;s which change it&#8217;s state, depending on cell state (alive or dead).<br />
    </p>    <a href="https://lh4.googleusercontent.com/-ERo-PofMktc/UGQSjwS4NBI/AAAAAAAAJfc/bOOBADibPGk/s622/image-1.png"><br />
        <img src="https://lh4.googleusercontent.com/-ERo-PofMktc/UGQSjwS4NBI/AAAAAAAAJfc/bOOBADibPGk/s622/image-1.png" style="width: 620px" /><br />
    </a><br />
    <p>        The visualization of results is very important part. It&#8217;s only then I tried to run the game on 64x64 square, I realized that performance of my implementation is so terribly poor. It runs very slowly on Chrome, it makes IE10 die.<br />
    </p>    <p>        It means that, all beautiful code, tests, specs and so on - is almost useless, than it comes to performance. My 2-pass algorithm, with a simple implementation is not &#8220;production&#8221; ready, if we talk about some real software. Unit tests are usually done on smaller sets of data. Visualisation and trying the things on larger set of data opens up the reality.<br />
    </p>    <h2>Conclusions</h2>    <p>        As I already said, it&#8217;s so much fun. It makes you feel like &#8220;back to roots&#8221;, forget about your enterprise stuff and do some real work. Besides it&#8217;s great TDD exercise. It&#8217;s probably to big to be called code kata, but it is still great for sharping an axe. Focusing on simple design is important. But making things &#8220;visible&#8221; and running them in real mode is vital. <br />
    </p>    <p>        The most important conclusion for me is: I&#8217;m still newbie developer, with so many areas to improve.<br />
    </p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/09/company-days-2012-in-e-conomic.html">
    
      Company Days 2012 in E-conomic</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-09-20T16:58:00+03:00" pubdate data-updated="true">Sep 20<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/e-conomic/'>E-conomic</a>, <a class='category' href='/blog/categories/mind/'>Mind</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>        Company Days is a yearly event in E-conomic, then all employees gather together. It&#8217;s usually happen in the middle of September, the time than Copenhagen is especially beautiful. It&#8217;s been great week, primarily because of opportunity to meet guys whom we work very close to. Besides the developers, primarily located in Denmark and Ukraine, business and operational people from UK, Sweden, Norway, Spain, Germany etc. are also coming, so it makes very cool international environment.<br />
    </p>    <p>        This year was a little special, since we had additional fun. Our CTO had organized the hackathon. The whole day event, supposed to create some valuable hacks for E-conomic product. All developers has been spitted on pairs and extended with business representatives. I had a team of 4 people - 2 developers and 2 business guys. Started at early morning near the blackboard, it was so nice to be part of process where the value is born in such extremely short period. We finally selected the idea, which seems to be very cool in terms of business and realistic in terms of one day implementation.<br />
    </p>    <p>        It&#8217;s been a long day of developing, debugging, demonstration and changes. Our product owners were always near us, giving both valuable feedback and supplying us with coffee and Danish chocolate sweets (that worked so good to me, since I needed sugar all the time). About 22.00 we got something that looks like a demo version of feature we wanted to produce. We&#8217;ve spent near 1 hour more, to show everything to PO&#8217;s and fix some small bugs. I felt very tired at the end.<br />
    </p>    <p>        Next day at 14.00 was big time of presentations. That was the funnies part. I have to admit, there was several really great hacks. In the same time some our PO&#8217;s are so cool of selling things that they turned the presentation into real show (kind of TV market, I would say). Everybody had a great joy, especially after words like &#8220;I&#8217;ve been asking for this feature for 2 year, and those guys created it in 16 hours&#8221;. It&#8217;s a bit of irony, but a bit of true as well. I know the jury that included CEO, CTO, Head of PO&#8217;s etc., we definitely happy to see the results and some hacks will be turned into the products really soon.<br />
    </p>    <a href="https://lh6.googleusercontent.com/-LsnSDGvzOrQ/UFsfQmfY5GI/AAAAAAAAJIQ/82qUi0631-A/s720/IMG_5365.JPG"><br />
        <img src="https://lh6.googleusercontent.com/-LsnSDGvzOrQ/UFsfQmfY5GI/AAAAAAAAJIQ/82qUi0631-A/s720/IMG_5365.JPG" style="width: 620px" /><br />
    </a><br />
    <p>        Apart from the hackathon, we had traditional speeches of CEO, Marketing people and guys from other departments. There was also a bit more activities, including jogging in which I took a part and did 8km distance. And of cause, Friday boat trip and party in restaurant. Party was so cool, that I almost missed my flight in the morning (but that&#8217;s a completely different story).<br />
    </p>    <p>        I would like to say thanks for everybody involved, I was happy to meet you guys once more.<br />
    </p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/09/how-my-wife-bacame-tdd-fan.html">
    
      How My Wife Became a TDD Fan</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-09-10T16:36:00+03:00" pubdate data-updated="true">Sep 10<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/mind/'>Mind</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>My wife, Sasha is not (yet) IT person. Living with developer for 5 years, she knows only few details of developers job (like, they do code and sitting late nights to make it work). My bad, I never spent much time to explain what really my job is.<br />
</p><p>Recently she joined the training courses on software testing, to find the job in IT area in perspective.<br />
</p><p>After her second lesson she got back home and we had a talk about what she is actually studying there. It appeared they started with a software development processes, understanding how the software is actually created. So, they described waterfall (even if  nobody using it any more) and some agile frameworks (scrum of cause), and left with a homework, to read what else practices exists.<br />
</p><blockquote>- So, did you find anything interesting?<br />
- I read about few, but I think I found the most interesting one..<br />
- What&#8217;s that?<br />
- Its called Extreme Programming..<br />
- Hm, I never heard about it. Tell me more (trolls face on).<br />
- Alright, so it&#8217;s a different practices as Code review, Pair programming, Collective code ownership.. But you know, what&#8217;s the greatest one?<br />
- No, what&#8217;s that?<br />
- Its called Test Driven Development, or TDD.<br />
- What&#8217;s the point of this TDD? (troll face is still on).<br />
- Can you imagine that you create the test before you create any application code, make sure it doesn&#8217;t work and after you fix it, so you always sure that application works fine! That&#8217;s sound so interesting and so valuable, I can&#8217;t wait to try it!<br />
</blockquote><p>I had to put my troll face off, after that. I could not believe what I&#8217;m hearing. That was simply amazing!<br />
</p><blockquote>- Do you know, I&#8217;m a big TDD fan and the training courses I do from time to time are &#8220;TDD in .NET&#8221;, so we teach people of using TDD practices in real projects.<br />
- Fantastic, I never thought your job is so interesting!<br />
</blockquote><p>The big disappointment to her was that testers are not doing TDD (she though it&#8217;s actually the testers job). Nethertheless, I got one interesting thought.<br />
</p><p>During the trainings on TDD we try hard to explain people the value of TDD and usually there some guys who just deny the idea, seeing absolutely no value in it. That actually show some human feature called &#8220;open mindness&#8221;. <br />
</p><p>As less you know, as easy to you to get new ideas.. As much you know, as less agile your brain could be, as hard you can adopt anything new.With more experience you got, it&#8217;s harder and harder to adopt new things. This is only the matter of discipline and hard working to stay update and actually try things out. It&#8217;s also a big patience till some tool or technique became beneficial to you.<br />
</p><p>The point of my story is. Developer have to be open minded person during whole career. Something you did yesterday, may became obsolete tomorrow. There are many things outside your comfort zone you might missing, staying in comfort zone for long time.<br />
</p><p>Back to Sasha, I always knew she is very bright lady. Now I hope she became bright engineer, good luck to you, honey.<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/09/why-use-backbonejs.html">
    
      Why Use Backbone.js?</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-09-07T18:30:00+03:00" pubdate data-updated="true">Sep 7<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/backbone-dot-js/'>Backbone.js</a>, <a class='category' href='/blog/categories/javascript/'>JavaScript</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
    <p>        Even JavaScript language and front-end development has been much matured recent time, I still see a lot of confusion about usage of different frameworks and libraries.<br />
    </p>    <p>        For a half of year I use Backbone.js and feel much satisfied with it. It&#8217;s very popular library, probably because of personal popularity of the creator of Backbone.js <a href="http://en.twitter.com/jashkenas">Jeremy Ashkenas</a>, very much known also as author of CoffeScript language.<br />
    </p>    <h2>Frameworks and libraries</h2>    <p>        There are differences between frameworks and libraries. In one sentence, &#8220;library is then you call some code, framework is then your code is called from somewhere&#8221;. The Backbone.js is clearly library. You usually have a lot of different options with libraries and less with frameworks. It&#8217;s very minimalistic, actually.<br />
    </p>    <p>        At core it only contains of only 4 components (Model, Collection, View, Router). This minimalism is both power and weak side of Backbone.js. The power is that you can build things whatever you like, Backbone fits the experience really smoothly. In the same time, you are really confused the time you just started, since you simply don&#8217;t understand how to make everything work together properly.<br />
    </p>    <h2>The essence of Backbone.js</h2>    <p>        In one of the podcasts with Jeremy, he said &#8220;Backbone is something that almost every developer will come to theirselves.. dealing with JavaScript applications for a while&#8221;. I could not agree more. If you have previous experience in programming and you see the value of architecture and design, you will definitely start to invent something similar to Backbone.<br />
    </p>    <p>        After some time spend of development jQuery based application you will realize many fundamental issues, like: data does not belong to DOM, events are not limited on jQuery and so on. But the main issue is jQuery apps usually violates the &#8220;Single Responsibility Principle&#8221;, mixing and manipulation with data and views in the same time. Experienced developers, tries to eliminate SRP issues as soon as possible, almost naturally coming to MVC pattern.<br />
    </p>    <p>        In essence the Backbone is a way to structure you application better. It makes clear de-coupling between data and views that render that data. It&#8217;s nothing more than that.<br />
    </p>    <h2>Abstracting things out</h2>    <p>        Programming is a matter of abstractions. As better abstractions you have as better code you have. <br />
    </p>    <p>        Every application works with data. The data does not appear in browser just like that, it have to fetched from somewhere. It&#8217;s also have to be persisted somewhere. The data could be changed and you have to validate that change is right. If some part of data is changing, you want to be notified on that change. Notice that, this is a very common functionality you want to keep between all data classes - initialization, validation, persistence. This is where the <code>Backbone.Model</code> comes out. With <code>Backbone.Model</code> all that things are already &#8220;in the box&#8221; you just need to apply your own strategies of implementation.<br />
    </p>    <p>        You typically don&#8217;t deal with one instance of model. REST interfaces are usually expose something like <code>/api/tasks</code> or <code>/api/photos</code> and so on. You need to group the models into collections. Collection (similar to model) are able fetch and persist itself, all it needs to know is the actual type of Model and URL. This is where <code>Backbone.Collection</code> shies. You are keeping all models close together, if some model become destroyed the collection will be updated, so it always in consistent state.<br />
    </p>    <p>        With view is basically render your models as DOM structure. So, the <code>Backbone.View</code> is abstraction with primarily method - <code>render</code>. Backbone does not say, how exactly you are going to do that. You can create handcrafted HTML and append it DOM, or use some templating mechanisms. Instead, it provides you convenient methods for listening to view events (like clicks, focusout or any other DOM supported events). Inside the handlers you either could update related model or apply some changes to view parts, whatever.<br />
    </p>    <p>        And finally <code>Backbone.Router</code> is a facility to building, so called Single Page Applications (SPA). SPA&#8217;s most popular example is GMail. You browsing emails, writing and sending - without and page reloads. What&#8217;s changing is only hash part of URL (like #inbox, #sent, #all). Router is handling hash change events and triggers registered handler. Inside the handler, you can initialize the corresponding application.<br />
    </p>    <h2>Don&#8217;t repeat yourself</h2>    <p>        Now, please let me know. How many times did you create (read copy-n-paste) the code for RESTful data persistence? How many times, you did you create code for validation? How many hours you spend for looking for some event listener provoking the bug in your app and hiding somewhere among 200 .js files?<br />
    </p>    <p>        If your answer, more that 2 - stop doing that. Don&#8217;t repeat yourself - reuse. And better - reuse from best.<br />
    </p>    <h2>Conclusions</h2>    <p>        There are great solutions, created by people experienced than me, amplified by huge community behind. <a href="https://github.com/documentcloud/backbone">Backbone.js</a> is one best representatives of such solutions. Having a something that I could rely on, that works good and there <a href="http://stackoverflow.com/questions/tagged/backbone.js">places</a> to get help is very strong reason for me, to keep doing that, instead of re-invent wheel yet another time.<br />
    </p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/09/new-candidate-overview.html">
    
      New Candidate Overview</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-09-05T21:56:00+03:00" pubdate data-updated="true">Sep 5<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/candidate/'>Candidate</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>        It&#8217;s been a almost a month how I started to re-implement my continues delivery application - <a href="https://github.com/alexanderbeletsky/candidate">Candidate</a>. In my <a href="http://www.beletsky.net/2012/08/re-thinking-candidate-application.html">previous</a> post I already mentioned some areas are going to improved, what technologies considered to be used. I haven&#8217;t managed to make huge progress on project so far, but I got something to show.<br />
    </p>    <h2>        Overall application architecture<br />
    </h2>    <p>        I try to build it with classical API oriented architecture in mind. It means that server side code exposes some simple HTTP API, the rest of stuff happening on browser. Fortunately, I got really simple UI, but still UI plays really important role. So far, I spent 80% in Sublime for front-end and 20% of time in Visual Studio for back-end.<br />
    </p>    <p>        Server side technology stack is NancyFX + RavenDB, client side build with Backbone.js + Require.js.<br />
    </p>    <p>        The primary application change is that it&#8217;s no longer IIS application, but just standalone app.<br />
    </p>    <a href="https://lh4.googleusercontent.com/-tVV2Kf9ujEY/UEef4mai0fI/AAAAAAAAJBY/jhlWIM6dh8w/s678/image-1.png"><br />
        <img src="https://lh4.googleusercontent.com/-tVV2Kf9ujEY/UEef4mai0fI/AAAAAAAAJBY/jhlWIM6dh8w/s678/image-1.png" style="width: 620px" /><br />
    </a><br />
    <p>    So, you just launch an .exe file, after application warm up, candidate is available at <a href="#">http://localhost:12543</a>.<br />
    </p>    <a href="https://lh6.googleusercontent.com/-p9lFdi3LimI/UEef4vVEQDI/AAAAAAAAJBU/IzxoLO3EK1E/s800/image-2.png"><br />
        <img src="https://lh6.googleusercontent.com/-p9lFdi3LimI/UEef4vVEQDI/AAAAAAAAJBU/IzxoLO3EK1E/s800/image-2.png" style="width: 620px" /><br />
    </a><br />
    <p>        To simplify a life a bit (and do not harm they eyes of users) I&#8217;m using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a> CSS framework and happy with it.<br />
    </p>    <h2>Server side</h2>    <p>        <a href="https://github.com/NancyFx/Nancy">NancyFX</a> is very lightweight framework, but it requires some skills. So far, I met <a href="http://www.beletsky.net/search/label/NancyFX">several</a> interesting challenges, that has been successfully solved. But, Nancy does it job and does it pretty well.<br />
    </p>    <p>        <a href="http://ravendb.net/">RavenDB</a> initial impressions are really positive. I&#8217;m currently doing very basic functionality (as inserting, querying and deletion of documents). But, indeed working with document oriented database feels much simple and native for C# developer. Forget about any SQL, schemas, ORM&#8217;s - store and restore POCO&#8217;s, that all you need to know. RavenDB API is very clear and intuitive. <br />
    </p>    <p>        I used embedded version of RavenDB, which suites me best - since I want to minimize an effort for application installation.<br />
    </p>    <p>        As I said above, server side exposes HTTP API which receives and responds with JSON based payload. There would be some interfaces for starting/stopping the deployment tasks.. but the rest is happening in client.<br />
    </p>    <h2>Client side</h2>    <p>        Since I met <a href="http://backbonejs.org/">Backbone.js</a> framework I thought to myself: &#8220;I will never ever writing &#8216;scripts&#8217; in front-end, instead I&#8217;ll be doing browser powered applications&#8221;. Backbone.js introduces structure in front-end. Front-end development with Backbone.js is no longer <code>$.ajax</code> calls and updates of DOM inside the <code>success:</code> handlers. With Backbones&#8217;s main entities you build front-end apps in similar way as it would be desktop applications.<br />
    </p>    <p>        Being much inspired with Addy Osmani <a href="http://addyosmani.com/writing-modular-js/">Writing Modular Javascript</a> blog post and speeches, I trying to apply some of these practices. In particular I&#8217;m using <a href="http://requirejs.org/">RequireJS</a> for AMD and Backbone&#8217;s views as kind of widgets (or modules).<br />
    </p>    <p>        The front end is being build in SPA (Single Page Application) style, which is kind of new to me. Backbone.Router is great component though and I don&#8217;t need anything more, at least for now. I wish to keep UI as much responsive and fast.<br />
    </p>    <p>        As always, you are welcome to review <a href="https://github.com/alexanderbeletsky/candidate/tree/master/src/Candidate.Nancy.Selfhosted/App">server side</a> or <a href="https://github.com/alexanderbeletsky/candidate/tree/master/src/Candidate.Nancy.Selfhosted/Client">client side</a> code, let me know your opinion or ask questions.<br />
    </p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/09/it-jam-2012-in-kiev.html">
    
      IT Jam 2012 in Kiev</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-09-03T10:11:00+03:00" pubdate data-updated="true">Sep 3<span>rd</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/conference/'>Conference</a>, <a class='category' href='/blog/categories/itjam/'>ITJam</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>        It&#8217;s been my <a href="http://www.beletsky.net/2011/08/it-jam-2011-in-odessa_23.html">second time</a> I attended IT Jam, the biggest IT gathering in Ukraine. This time, the rules has been completely changed. Instead of traditional speeches, the organizers decided to make <a href="http://www.it-jam.ciklum.net/community_spot">community spots</a>, there people might have a chance to group and discuss different issues. There were number of spots there: .NET, JavaScript, iOS, UX etc.<br />
    </p>    <a href="https://lh4.googleusercontent.com/-PXtIUYdVpXk/UERVoHU_CJI/AAAAAAAAJBA/xq8Nq_PIPJ4/s720/551981_10151051085473549_2145381509_n.jpg"><br />
        <img src="https://lh4.googleusercontent.com/-PXtIUYdVpXk/UERVoHU_CJI/AAAAAAAAJBA/xq8Nq_PIPJ4/s720/551981_10151051085473549_2145381509_n.jpg" style="width:620px" /><br />
    </a><br />
    <p>        Besides the community spots, there was several stages where <a href="http://www.it-jam.ciklum.net/visionary_speakers">visionary speakers</a> did their presentations. I had a chance to listen Christopher Marsh, and really enjoyed his vision of lean product development. At 13.00 community spots started to operate, to I went there.<br />
    </p>    <p>        .NET spot is a closest to me, since it&#8217;s lead by guys whom I personally know and number of participants are well known guys from local .NET community. <a href="http://twitter.com/chaliy">Mike Chaliy</a> asked me to give a brief talk on.. Node.js. So, together with <a href="http://twitter.com/dmytromindra">Dmytro Mindra</a> we did kind of introduction to Node.js to .NET developers, introducing to the history of this rather new technology, it&#8217;s main features and showing some real code. Planned for 15 minutes, we&#8217;ve spend about hour talking about it. Besides of pure technology talk, I shared some experience of <a href="http://debitoor.de">e-conomic</a> switch from .NET to Node.js stack for the latest products and how it worked for us (mainly my message was, throw away your boring C# and switch to JS.. so I had a chance to been kicked off the spot, but everything were fine at the very end). .NET spot was very active, attracted many many participants. People were talking about newest .NET framework features, like Async, Azure, Kinect etc.<br />
    </p>    <a href="https://lh6.googleusercontent.com/-m8E-81DXCZI/UERVoMXNaII/AAAAAAAAJA8/NZSQvx7otfo/s512/375872_10151051090393549_448366005_n.jpg"><br />
        <img src="https://lh6.googleusercontent.com/-m8E-81DXCZI/UERVoMXNaII/AAAAAAAAJA8/NZSQvx7otfo/s512/375872_10151051090393549_448366005_n.jpg" /><br />
    </a><br />
    <p>        JavaScript spot leaded by my team mate <a href="http://ua.linkedin.com/in/edjafarov">Eldar Djafarov</a> was also very exiting. Guys did a very nice job, preparing some cool JavaScript applications, that people might play with. I joined it, having a quite interesting discussion of front end development issues with different JavaScript MVC frameworks. Again, the experience we&#8217;ve got in company regarding Backbone.js, unit testing and tools was very interesting to developers.<br />
    </p>    <p>        Almost 4 hours on community spots were like one minute to me.<br />
    </p>    <p>        I really liked how the things went. From my perspective the idea of community spots was really cool. Probably, it&#8217;s to difficult for introverts, to feel them self comfortable with this environment, so mix up of formal speeches and spots could be a good idea for future conferences.<br />
    </p>    <p>        I wish to say thanks for organizers of this event for everybody involved, great effort guys. As always, it was so great to meet with colleagues from other cities and shake the hand for guys, whom I knew only virtually before. See you next year!<br />
    </p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/08/developing-web-applications-faster.html">
    
      Developing Web Applications Faster</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-08-20T12:20:00+03:00" pubdate data-updated="true">Aug 20<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/html/'>HTML</a>, <a class='category' href='/blog/categories/javascript/'>JavaScript</a>, <a class='category' href='/blog/categories/tips/'>Tips</a>, <a class='category' href='/blog/categories/tools/'>Tools</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>    If you haven&#8217;t seen Bret Victor&#8217;s <a href="http://vimeo.com/36579366">talk</a>, please find 54 minutes and do it. This video is giving many interesting ideas, inspiring people to create new things. The main idea of his talk (at least as I understood it), is whatever you do, you have to see the result of your work as soon as possible. This short feedback cycle is important, cause it leads to better ideas and good productivity.<br />
</p><p>    As a developers, we do code. Applying Victor&#8217;s principle, ideally we should have this code immediately running and showing it&#8217;s results of execution. Some experimental IDE&#8217;s like <a href="http://www.chris-granger.com/2012/04/12/light-table---a-new-ide-concept/">Light Table</a> is trying to adopt this principle now. <br />
</p><p>    If you develop web applications, you spend much time working with HTML/CSS/JS, which being executed by browser. The typical workflow, is to open your text editor, correct some mark-up or javascript code, then switch to browser, press F5 and see the results. It doesn&#8217;t sound like a big job, but believe me, it&#8217;s getting annoying and boring in very short time.<br />
</p><h2>LiveReload comes to help</h2><p>    Ideal workflow is something like, you apply changes to JS, press Ctrl + S in your text editor and browser get&#8217;s immediately reloaded, showing the results of execution. That&#8217;s sounds really cool and fortunately there is great solution for that. It&#8217;s called <a href="https://github.com/mockko/livereload">LiveReload</a> from <a href="https://github.com/andreyvit">Andrey Tarantsov</a>.<br />
</p><p>    It can be installed as either a <code>&lt;script type=&quot;javascript&quot; scr=&quot;/libs/livereload.js&quot;&gt;&lt;/script&gt;</code> tag in your app, or as a browser plug-in. I prefer the plug-in way, since it could work with any app and requires no code modifications. There plugins for <a href="https://www.google.com.ua/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CFYQFjAA&url=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdetail%2Fjnihajbhpnppcggbcgedagnkighmdlei&ei=Ld8xUOzuD8bhtQaThIGYAw&usg=AFQjCNGfX_zDQVCEb-jaq2-TSiR7TqxQWw&sig2=039AdwBtqrpgzbt-irnUcQ">Chrome</a>, <a href="https://www.google.com.ua/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&sqi=2&ved=0CEMQFjAA&url=https%3A%2F%2Faddons.mozilla.org%2Fen-us%2Ffirefox%2Faddon%2Flivereload%2F&ei=f98xUMPVM4rTtAbVioHgAg&usg=AFQjCNGsE_l-orw8MwyGW9mcQ2-y8H2F5Q&sig2=lYx9rMgyuI2384_1y2MZ8w">FireFox</a> and <a href="http://download.livereload.com/2.0.8/LiveReload-2.0.8.safariextz">Safari</a>.<br />
</p><p>    How does it work? Take a look on a diagram.<br />
</p><a href="https://lh4.googleusercontent.com/-F9itf6E8NAA/UDIAFm3zrsI/AAAAAAAAJAE/3LEaKfedmls/s776/image-1.png"><br />
    <img src="https://lh4.googleusercontent.com/-F9itf6E8NAA/UDIAFm3zrsI/AAAAAAAAJAE/3LEaKfedmls/s776/image-1.png" style="width: 620px"/><br />
</a><br />
<p>    The LiveReload plug-in (or livereload.js script) expect&#8217;s that there is Web Socket Server, where it connects to and start to listen for changes. Web Socket Server is responsible for tracking changes and if changes occurred, it send the package of data with information about the changes, back to the web socket. LiveReload receives the data and reloads the browser.<br />
</p><p>    As you installed plug-in and pressed &#8220;LR&#8221; button, it&#8217;s gonna light green if connection to server is successful, otherwise it will pop-up the message, that server is not available.<br />
</p><a href="https://lh5.googleusercontent.com/-R7b4Vtvid0g/UDIAFn5cdxI/AAAAAAAAJAA/MUpTAS2pizU/s535/image-3.png"><br />
    <img src="https://lh5.googleusercontent.com/-R7b4Vtvid0g/UDIAFn5cdxI/AAAAAAAAJAA/MUpTAS2pizU/s535/image-3.png" style="width: 620px"/><br />
</a><br />
<p>    So, to make LiveReload work properly we have to provide an Web Socket Server, that conforms to LiveReload interface. <br />
</p><h2>LiveReload + Sublime Text 2</h2><p>    There is a great plug-in for Sublime Text 2, from <a href="https://github.com/dz0ny">Janez Troha</a> called, <a href="https://github.com/dz0ny/LiveReload-sublimetext2">LiveReload-sublimetext2</a>. It&#8217;s get easily installed through standard ST2 package installer (package name is &#8220;LiveReload&#8221;). Basically, it instantiate Web Socket Server inside the sublime, listening to editors event&#8217;s and push data to socket.<br />
</p><p>    As soon as it&#8217;s installed, and browser connected to it, you can now modify any HTML/JS/CSS file. As file get changed and saved, you will see LiveReload-sublimetext2 will immediately send the command and browser got refreshed.<br />
</p><a href="https://lh3.googleusercontent.com/-N21_9n_1At0/UDIAGA6k7II/AAAAAAAAJAM/7pWtPo9sKm4/s620/image-4.png"><br />
    <img src="https://lh3.googleusercontent.com/-N21_9n_1At0/UDIAGA6k7II/AAAAAAAAJAM/7pWtPo9sKm4/s620/image-4.png" style="width: 620px"/><br />
</a><br />
<p>    When I first time tried that, I could not believe how smooth it was. Can&#8217;t even believe how I lived with-out it before. Nothing to add here, just nice and easy.<br />
</p><h2>LiveReload + any IDE</h2><p>    &#8220;Any IDE&#8221; in my case means Visual Studio, where I spent some time if I&#8217;m not Sublime. Unfortunately, there are no dedicated plugin for VS (as seems there are no for JIdea and Eclipse, so good opportunity for developers). Even so, you have a chance to get benefits of LiveReload. All you need to have is <a href="http://nodejs.org/">Node.js</a> or <a href="http://www.ruby-lang.org/en/">Ruby</a> installed on your machine.<br />
</p><p>    Originally, LiveReload comes with Ruby-based <a href="https://github.com/mockko/livereload/tree/master/server">server</a>, that you can install and used from gems. I&#8217;m not much that comfortable with Ruby, so I went Node.js way.<br />
</p><p>    There is Node-base LiveReload web socket <a href="https://github.com/josh/node-livereload">server</a> from <a href="https://github.com/josh">Joshua Peek</a>. It&#8217;s written in coffee-script and actually really easy to adopt. Here is an <a href="https://github.com/alexanderbeletsky/candidate/tree/master/tools/livereload">example</a>, how I used that for my project. With a simple .cmd, I start up livereload, specifying which folder to observe.<br />
</p><pre class="brush: plain">    @echo off
    node ./tools/livereload/server.js ./src/Candidate.Nancy.Selfhosted/Client/
</pre><p>    It will start up the server, wait till browser connects and watch all files in folder for changes.<br />
</p><a href="https://lh3.googleusercontent.com/-Clurp7tbGjA/UDIAGXCTBGI/AAAAAAAAJAQ/ghdC6eHVSQc/s620/image-5.png"><br />
    <img src="https://lh3.googleusercontent.com/-Clurp7tbGjA/UDIAGXCTBGI/AAAAAAAAJAQ/ghdC6eHVSQc/s620/image-5.png" style="width: 620px"/><br />
</a><br />
<p>    Not everything so perfect with that approach, though. There are 2 reasons, why I did not finally like that:<br />
</p><ol>    <li>It is slow. Internally node-livereload uses <code>fs.watchFile</code>, which is quite slow (at least on Windows). That mean&#8217;s if you save the file, it takes 1-1.5 seconds for browser to refresh.<br />
    </li>
    <li>Does not catch up new files. You have to restart server, to make it watch newly created files.<br />
    </li>
</ol><h2>Mixing things up</h2><p>    There reasons above prevent me to go on with <a href="https://github.com/josh/node-livereload">node-livereload</a>. So, even if I work on .NET-based application, I do C# in Visual Studio, but HTML/CSS/JS in Sublime, having the all it&#8217;s benefits. So, I basically have 2 things opened side-by-side.<br />
</p><a href="https://lh4.googleusercontent.com/--1QZU1dRym0/UDIAGZjoJQI/AAAAAAAAJAY/Nkb7uhE66wA/s570/image-6.png"><br />
    <img src="https://lh4.googleusercontent.com/--1QZU1dRym0/UDIAGZjoJQI/AAAAAAAAJAY/Nkb7uhE66wA/s570/image-6.png" style="width: 620px"/><br />
</a><br />
<h2>Conclusions</h2><p>    I felt much productivity boost with LiveReload. I have Sublime opened on one monitor and Chrome + WebKit Tools on another. As soon I change something, I see the results immediately, catching up errors in console as early as possible. It works so great then you TDD&#8217;ing your JavaScript code, as you write tests and implementation and it&#8217;s been re-run with each save (like a continues testing with AutoTest, NCrunch etc.).<br />
</p><p>    That works very fine to me, I don&#8217;t want to press F5 anymore. Do you?<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  
    <article>
        
  <h1 class="title pure-u-1">
    
    <a href="/2012/08/camelcase-json-formatting-for-nancyfx.html">
    
      CamelCase JSON Formatting for NancyFX Application</a>
  </h1>

  <div class="meta pure-u-1-5">
    <div class="date icon-calendar">








  


<time datetime="2012-08-18T14:17:00+03:00" pubdate data-updated="true">Aug 18<span>th</span>, 2012</time></div>
    <div class="tags icon-tag-2">

<span class="categories">
  
    <a class='category' href='/blog/categories/nancyfx/'>NancyFX</a>
  
</span>

</div>
  </div>

  <div class="entry-content pure-u-4-5">
    <div class="content">
      <div class='post'>
<p>    As I have chosen <a href="https://github.com/NancyFx/Nancy">NancyFX</a> framework for my <a href="https://github.com/alexanderbeletsky/candidate/tree/nancy">pet project</a>, I&#8217;ve spend yet another week playing with it. My original expectations were - I&#8217;ll be super-duper-fast with it, since it&#8217;s so comprehensive and powerful. One more time I have to admit - every technology has it&#8217;s learning curve, it could be smooth, but it is still curve. Time need to be invested to learn it.<br />
</p><p>    The good thing, it&#8217;s very interesting to fight new challenges, and it&#8217;s so cool that Nancy just &#8220;does not contain everything&#8221;, but actually allows to customize things, as you wish to.<br />
</p><h2>Nancy&#8217;s default JSON formatter</h2><p>    Nancy is using <a href="https://github.com/grendello">Marek Habersack&#8217;s</a> version <a href="https://github.com/NancyFx/Nancy/blob/master/src/Nancy/Json/JsonSerializer.cs">JsonSerializer</a>, which is a smart wrapper on <a href="http://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.aspx">JavaScriptSerializer</a>. It works, fine.. but the problem, it does not provide any facilities to change default formatting settings. That would mean, if you have a module with method like that,<br />
</p><pre class="brush: csharp">public class SitesModule : NancyModule
{
    public SitesModule() : base("/api/sites")
    {
        Get["/"] = parameters => Response.AsJson(new[] {new { Name = "Site 1", DeployStatus = "Deployed" }});
    }
}
</pre><p>    You will get valid JSON, but it would serialize all C# properties, as they are:<br />
</p><pre class="brush: plain">    "[{"Name":"Site 1","DeployStatus":"Deployed "}]"
</pre><p>    Don&#8217;t know about you, but it makes me sick too work with uppercase object fields in JavaScript. Fortunately, such advanced JavaScript serialization libraries as <a href="http://james.newtonking.com/pages/json-net.aspx">JSON.NET</a> has formatting features. So, our goal is to create custom serialize (based on JSON.NET) and integrate it to Nancy&#8217;s pipeline.<br />
</p><h2>    JSON.NET based serialization<br />
</h2><p>    In order to do that, we need to implement special interface (guess it&#8217;s name?) - <code>ISerializer</code>. Without further explanation, I just copy and paste code here:<br />
</p><pre class="brush: csharp">public class JsonNetSerializer : ISerializer
{
    private readonly JsonSerializer _serializer;

    public JsonNetSerializer()
    {
        var settings = new JsonSerializerSettings
                        {
                            ContractResolver = new CamelCasePropertyNamesContractResolver()
                        };

        _serializer = JsonSerializer.Create(settings);
    }

    public bool CanSerialize(string contentType)
    {
        return contentType == &quot;application/json&quot;;
    }

    public void Serialize&lt;TModel&gt;(string contentType, TModel model, Stream outputStream)
    {
        using (var writer = new JsonTextWriter(new StreamWriter(outputStream)))
        {
            _serializer.Serialize(writer, model);
            writer.Flush();
        }
    }
}
</pre><h2>Changing the configuration</h2><p>    NancyFX bootstrapper has a special method, which have to be overridden in order to change internal configuration. There is a very convenient helper, that is useful for changing some particular bits of config.<br />
</p><pre class="brush: csharp">protected override NancyInternalConfiguration InternalConfiguration
{
    get
    {
        return NancyInternalConfiguration.WithOverrides(c => c.Serializers.Insert(0, typeof(JsonNetSerializer)));
    }
}
</pre><p>    Please note, I&#8217;m inserting that to position 0, just to make sure it&#8217;s *before* default <code>JsonSerializer</code> type, since AsJson() response formatter is using <code>FirstOrDefault</code> strategy to find corresponding serialize class. Just build and re-start your app, and from now your JSON&#8217;s would be looking really good:<br />
</p><pre class="brush: plain">    "[{"name":"Site 1","deployStatus":"Deployed "}]"
</pre><p>    Much more better now!<br />
</p></div>

      
      
    </div>
  </div>

    </article>
  
  <div class="pagination inner pure-u-1">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div></div>
	<footer class="pure-g-r"><div class="inner pure-u-1">
	<p>
		Theme developed by <a href="https://twitter.com/alexbeletsky">@alexbeletsky</a> | Fonts by <a href="http://www.google.com/fonts/">Google Fonts</a> | Icons by <a href="http://fontello.com/">Fontello</a> | Hosted on <a href="http://github.com">github</a> | Powered by <a href="http://octopress.org/">Octopress</a>
	</p>
	<p>
		Copyright  2010 - 2013 beletsky.net
	</p>
</div>

</footer>
	<div class="buttons">
	


	
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


	
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


	
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


	

</div>
</body>
</html>